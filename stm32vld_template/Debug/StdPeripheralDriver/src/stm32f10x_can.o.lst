   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"stm32f10x_can.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.CAN_DeInit,"ax",%progbits
  19              		.align	2
  20              		.global	CAN_DeInit
  21              		.thumb
  22              		.thumb_func
  24              	CAN_DeInit:
  25              	.LFB29:
  26              		.file 1 "../StdPeripheralDriver/src/stm32f10x_can.c"
   1:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
   2:../StdPeripheralDriver/src/stm32f10x_can.c ****   ******************************************************************************
   3:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @file    stm32f10x_can.c
   4:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @author  MCD Application Team
   5:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @version V3.5.0
   6:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @date    11-March-2011
   7:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief   This file provides all the CAN firmware functions.
   8:../StdPeripheralDriver/src/stm32f10x_can.c ****   ******************************************************************************
   9:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @attention
  10:../StdPeripheralDriver/src/stm32f10x_can.c ****   *
  11:../StdPeripheralDriver/src/stm32f10x_can.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:../StdPeripheralDriver/src/stm32f10x_can.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:../StdPeripheralDriver/src/stm32f10x_can.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:../StdPeripheralDriver/src/stm32f10x_can.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:../StdPeripheralDriver/src/stm32f10x_can.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:../StdPeripheralDriver/src/stm32f10x_can.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:../StdPeripheralDriver/src/stm32f10x_can.c ****   *
  18:../StdPeripheralDriver/src/stm32f10x_can.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:../StdPeripheralDriver/src/stm32f10x_can.c ****   ******************************************************************************
  20:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  21:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  22:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Includes ------------------------------------------------------------------*/
  23:../StdPeripheralDriver/src/stm32f10x_can.c **** #include "stm32f10x_can.h"
  24:../StdPeripheralDriver/src/stm32f10x_can.c **** #include "stm32f10x_rcc.h"
  25:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  26:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  27:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
  28:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  29:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  30:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @defgroup CAN 
  31:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief CAN driver modules
  32:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
  33:../StdPeripheralDriver/src/stm32f10x_can.c ****   */ 
  34:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  35:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_TypesDefinitions
  36:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
  37:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  38:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  39:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
  40:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @}
  41:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  42:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  43:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Defines
  44:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
  45:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  46:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  47:../StdPeripheralDriver/src/stm32f10x_can.c **** /* CAN Master Control Register bits */
  48:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  49:../StdPeripheralDriver/src/stm32f10x_can.c **** #define MCR_DBF      ((uint32_t)0x00010000) /* software master reset */
  50:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  51:../StdPeripheralDriver/src/stm32f10x_can.c **** /* CAN Mailbox Transmit Request */
  52:../StdPeripheralDriver/src/stm32f10x_can.c **** #define TMIDxR_TXRQ  ((uint32_t)0x00000001) /* Transmit mailbox request */
  53:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  54:../StdPeripheralDriver/src/stm32f10x_can.c **** /* CAN Filter Master Register bits */
  55:../StdPeripheralDriver/src/stm32f10x_can.c **** #define FMR_FINIT    ((uint32_t)0x00000001) /* Filter init mode */
  56:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  57:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Time out for INAK bit */
  58:../StdPeripheralDriver/src/stm32f10x_can.c **** #define INAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  59:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Time out for SLAK bit */
  60:../StdPeripheralDriver/src/stm32f10x_can.c **** #define SLAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  61:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  62:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  63:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  64:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Flags in TSR register */
  65:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_FLAGS_TSR              ((uint32_t)0x08000000) 
  66:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Flags in RF1R register */
  67:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF1R             ((uint32_t)0x04000000) 
  68:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Flags in RF0R register */
  69:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF0R             ((uint32_t)0x02000000) 
  70:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Flags in MSR register */
  71:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_FLAGS_MSR              ((uint32_t)0x01000000) 
  72:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Flags in ESR register */
  73:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_FLAGS_ESR              ((uint32_t)0x00F00000) 
  74:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  75:../StdPeripheralDriver/src/stm32f10x_can.c **** /* Mailboxes definition */
  76:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_0                   ((uint8_t)0x00)
  77:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_1                   ((uint8_t)0x01)
  78:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_2                   ((uint8_t)0x02) 
  79:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  80:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  81:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  82:../StdPeripheralDriver/src/stm32f10x_can.c **** #define CAN_MODE_MASK              ((uint32_t) 0x00000003)
  83:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
  84:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @}
  85:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  86:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  87:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Macros
  88:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
  89:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  90:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  91:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
  92:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @}
  93:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  94:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  95:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Variables
  96:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
  97:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
  98:../StdPeripheralDriver/src/stm32f10x_can.c **** 
  99:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 100:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @}
 101:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 102:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 103:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_FunctionPrototypes
 104:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
 105:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 106:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 107:../StdPeripheralDriver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit);
 108:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 109:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 110:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @}
 111:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 112:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 113:../StdPeripheralDriver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Functions
 114:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @{
 115:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 116:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 117:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 118:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Deinitializes the CAN peripheral registers to their default reset values.
 119:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to select the CAN peripheral.
 120:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 121:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 122:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_DeInit(CAN_TypeDef* CANx)
 123:../StdPeripheralDriver/src/stm32f10x_can.c **** {
  27              		.loc 1 123 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 82B0     		sub	sp, sp, #8
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 16
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
 124:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 125:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 126:../StdPeripheralDriver/src/stm32f10x_can.c ****  
 127:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CANx == CAN1)
  43              		.loc 1 127 0
  44 0008 7A68     		ldr	r2, [r7, #4]
  45 000a 4FF4C843 		mov	r3, #25600
  46 000e C4F20003 		movt	r3, 16384
  47 0012 9A42     		cmp	r2, r3
  48 0014 0CD1     		bne	.L2
 128:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 129:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Enable CAN1 reset state */
 130:../StdPeripheralDriver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, ENABLE);
  49              		.loc 1 130 0
  50 0016 4FF00070 		mov	r0, #33554432
  51 001a 4FF00101 		mov	r1, #1
  52 001e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 131:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Release CAN1 from reset state */
 132:../StdPeripheralDriver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, DISABLE);
  53              		.loc 1 132 0
  54 0022 4FF00070 		mov	r0, #33554432
  55 0026 4FF00001 		mov	r1, #0
  56 002a FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  57 002e 0BE0     		b	.L1
  58              	.L2:
 133:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 134:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
 135:../StdPeripheralDriver/src/stm32f10x_can.c ****   {  
 136:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Enable CAN2 reset state */
 137:../StdPeripheralDriver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, ENABLE);
  59              		.loc 1 137 0
  60 0030 4FF08060 		mov	r0, #67108864
  61 0034 4FF00101 		mov	r1, #1
  62 0038 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 138:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Release CAN2 from reset state */
 139:../StdPeripheralDriver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, DISABLE);
  63              		.loc 1 139 0
  64 003c 4FF08060 		mov	r0, #67108864
  65 0040 4FF00001 		mov	r1, #0
  66 0044 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  67              	.L1:
 140:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 141:../StdPeripheralDriver/src/stm32f10x_can.c **** }
  68              		.loc 1 141 0
  69 0048 07F10807 		add	r7, r7, #8
  70 004c BD46     		mov	sp, r7
  71 004e 80BD     		pop	{r7, pc}
  72              		.cfi_endproc
  73              	.LFE29:
  75              		.section	.text.CAN_Init,"ax",%progbits
  76              		.align	2
  77              		.global	CAN_Init
  78              		.thumb
  79              		.thumb_func
  81              	CAN_Init:
  82              	.LFB30:
 142:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 143:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 144:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 145:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         parameters in the CAN_InitStruct.
 146:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:           where x can be 1 or 2 to to select the CAN 
 147:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                         peripheral.
 148:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure that
 149:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                         contains the configuration information for the 
 150:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                         CAN peripheral.
 151:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval Constant indicates initialization succeed which will be 
 152:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         CAN_InitStatus_Failed or CAN_InitStatus_Success.
 153:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 154:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_Init(CAN_TypeDef* CANx, CAN_InitTypeDef* CAN_InitStruct)
 155:../StdPeripheralDriver/src/stm32f10x_can.c **** {
  83              		.loc 1 155 0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 16
  86              		@ frame_needed = 1, uses_anonymous_args = 0
  87              		@ link register save eliminated.
  88 0000 80B4     		push	{r7}
  89              	.LCFI3:
  90              		.cfi_def_cfa_offset 4
  91              		.cfi_offset 7, -4
  92 0002 85B0     		sub	sp, sp, #20
  93              	.LCFI4:
  94              		.cfi_def_cfa_offset 24
  95 0004 00AF     		add	r7, sp, #0
  96              	.LCFI5:
  97              		.cfi_def_cfa_register 7
  98 0006 7860     		str	r0, [r7, #4]
  99 0008 3960     		str	r1, [r7, #0]
 156:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t InitStatus = CAN_InitStatus_Failed;
 100              		.loc 1 156 0
 101 000a 4FF00003 		mov	r3, #0
 102 000e FB73     		strb	r3, [r7, #15]
 157:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint32_t wait_ack = 0x00000000;
 103              		.loc 1 157 0
 104 0010 4FF00003 		mov	r3, #0
 105 0014 BB60     		str	r3, [r7, #8]
 158:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 159:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 160:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TTCM));
 161:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_ABOM));
 162:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_AWUM));
 163:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_NART));
 164:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_RFLM));
 165:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TXFP));
 166:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_MODE(CAN_InitStruct->CAN_Mode));
 167:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_SJW(CAN_InitStruct->CAN_SJW));
 168:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS1(CAN_InitStruct->CAN_BS1));
 169:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS2(CAN_InitStruct->CAN_BS2));
 170:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_PRESCALER(CAN_InitStruct->CAN_Prescaler));
 171:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 172:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Exit from sleep mode */
 173:../StdPeripheralDriver/src/stm32f10x_can.c ****   CANx->MCR &= (~(uint32_t)CAN_MCR_SLEEP);
 106              		.loc 1 173 0
 107 0016 7B68     		ldr	r3, [r7, #4]
 108 0018 1B68     		ldr	r3, [r3, #0]
 109 001a 23F00202 		bic	r2, r3, #2
 110 001e 7B68     		ldr	r3, [r7, #4]
 111 0020 1A60     		str	r2, [r3, #0]
 174:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 175:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Request initialisation */
 176:../StdPeripheralDriver/src/stm32f10x_can.c ****   CANx->MCR |= CAN_MCR_INRQ ;
 112              		.loc 1 176 0
 113 0022 7B68     		ldr	r3, [r7, #4]
 114 0024 1B68     		ldr	r3, [r3, #0]
 115 0026 43F00102 		orr	r2, r3, #1
 116 002a 7B68     		ldr	r3, [r7, #4]
 117 002c 1A60     		str	r2, [r3, #0]
 177:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 178:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Wait the acknowledge */
 179:../StdPeripheralDriver/src/stm32f10x_can.c ****   while (((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 118              		.loc 1 179 0
 119 002e 03E0     		b	.L5
 120              	.L7:
 180:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 181:../StdPeripheralDriver/src/stm32f10x_can.c ****     wait_ack++;
 121              		.loc 1 181 0
 122 0030 BB68     		ldr	r3, [r7, #8]
 123 0032 03F10103 		add	r3, r3, #1
 124 0036 BB60     		str	r3, [r7, #8]
 125              	.L5:
 179:../StdPeripheralDriver/src/stm32f10x_can.c ****   while (((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 126              		.loc 1 179 0 discriminator 1
 127 0038 7B68     		ldr	r3, [r7, #4]
 128 003a 5B68     		ldr	r3, [r3, #4]
 129 003c 03F00103 		and	r3, r3, #1
 130 0040 002B     		cmp	r3, #0
 131 0042 04D1     		bne	.L6
 179:../StdPeripheralDriver/src/stm32f10x_can.c ****   while (((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 132              		.loc 1 179 0 is_stmt 0 discriminator 2
 133 0044 BA68     		ldr	r2, [r7, #8]
 134 0046 4FF6FF73 		movw	r3, #65535
 135 004a 9A42     		cmp	r2, r3
 136 004c F0D1     		bne	.L7
 137              	.L6:
 182:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 183:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 184:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check acknowledge */
 185:../StdPeripheralDriver/src/stm32f10x_can.c ****   if ((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK)
 138              		.loc 1 185 0 is_stmt 1
 139 004e 7B68     		ldr	r3, [r7, #4]
 140 0050 5B68     		ldr	r3, [r3, #4]
 141 0052 03F00103 		and	r3, r3, #1
 142 0056 002B     		cmp	r3, #0
 143 0058 03D1     		bne	.L8
 186:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 187:../StdPeripheralDriver/src/stm32f10x_can.c ****     InitStatus = CAN_InitStatus_Failed;
 144              		.loc 1 187 0
 145 005a 4FF00003 		mov	r3, #0
 146 005e FB73     		strb	r3, [r7, #15]
 147 0060 A5E0     		b	.L9
 148              	.L8:
 188:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 189:../StdPeripheralDriver/src/stm32f10x_can.c ****   else 
 190:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 191:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set the time triggered communication mode */
 192:../StdPeripheralDriver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TTCM == ENABLE)
 149              		.loc 1 192 0
 150 0062 3B68     		ldr	r3, [r7, #0]
 151 0064 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 152 0066 012B     		cmp	r3, #1
 153 0068 06D1     		bne	.L10
 193:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 194:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TTCM;
 154              		.loc 1 194 0
 155 006a 7B68     		ldr	r3, [r7, #4]
 156 006c 1B68     		ldr	r3, [r3, #0]
 157 006e 43F08002 		orr	r2, r3, #128
 158 0072 7B68     		ldr	r3, [r7, #4]
 159 0074 1A60     		str	r2, [r3, #0]
 160 0076 05E0     		b	.L11
 161              	.L10:
 195:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 196:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 197:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 198:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TTCM;
 162              		.loc 1 198 0
 163 0078 7B68     		ldr	r3, [r7, #4]
 164 007a 1B68     		ldr	r3, [r3, #0]
 165 007c 23F08002 		bic	r2, r3, #128
 166 0080 7B68     		ldr	r3, [r7, #4]
 167 0082 1A60     		str	r2, [r3, #0]
 168              	.L11:
 199:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 200:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 201:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set the automatic bus-off management */
 202:../StdPeripheralDriver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_ABOM == ENABLE)
 169              		.loc 1 202 0
 170 0084 3B68     		ldr	r3, [r7, #0]
 171 0086 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 172 0088 012B     		cmp	r3, #1
 173 008a 06D1     		bne	.L12
 203:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 204:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_ABOM;
 174              		.loc 1 204 0
 175 008c 7B68     		ldr	r3, [r7, #4]
 176 008e 1B68     		ldr	r3, [r3, #0]
 177 0090 43F04002 		orr	r2, r3, #64
 178 0094 7B68     		ldr	r3, [r7, #4]
 179 0096 1A60     		str	r2, [r3, #0]
 180 0098 05E0     		b	.L13
 181              	.L12:
 205:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 206:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 207:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 208:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_ABOM;
 182              		.loc 1 208 0
 183 009a 7B68     		ldr	r3, [r7, #4]
 184 009c 1B68     		ldr	r3, [r3, #0]
 185 009e 23F04002 		bic	r2, r3, #64
 186 00a2 7B68     		ldr	r3, [r7, #4]
 187 00a4 1A60     		str	r2, [r3, #0]
 188              	.L13:
 209:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 210:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 211:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set the automatic wake-up mode */
 212:../StdPeripheralDriver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_AWUM == ENABLE)
 189              		.loc 1 212 0
 190 00a6 3B68     		ldr	r3, [r7, #0]
 191 00a8 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 192 00aa 012B     		cmp	r3, #1
 193 00ac 06D1     		bne	.L14
 213:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 214:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_AWUM;
 194              		.loc 1 214 0
 195 00ae 7B68     		ldr	r3, [r7, #4]
 196 00b0 1B68     		ldr	r3, [r3, #0]
 197 00b2 43F02002 		orr	r2, r3, #32
 198 00b6 7B68     		ldr	r3, [r7, #4]
 199 00b8 1A60     		str	r2, [r3, #0]
 200 00ba 05E0     		b	.L15
 201              	.L14:
 215:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 216:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 217:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 218:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_AWUM;
 202              		.loc 1 218 0
 203 00bc 7B68     		ldr	r3, [r7, #4]
 204 00be 1B68     		ldr	r3, [r3, #0]
 205 00c0 23F02002 		bic	r2, r3, #32
 206 00c4 7B68     		ldr	r3, [r7, #4]
 207 00c6 1A60     		str	r2, [r3, #0]
 208              	.L15:
 219:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 220:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 221:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set the no automatic retransmission */
 222:../StdPeripheralDriver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_NART == ENABLE)
 209              		.loc 1 222 0
 210 00c8 3B68     		ldr	r3, [r7, #0]
 211 00ca 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 212 00cc 012B     		cmp	r3, #1
 213 00ce 06D1     		bne	.L16
 223:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 224:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_NART;
 214              		.loc 1 224 0
 215 00d0 7B68     		ldr	r3, [r7, #4]
 216 00d2 1B68     		ldr	r3, [r3, #0]
 217 00d4 43F01002 		orr	r2, r3, #16
 218 00d8 7B68     		ldr	r3, [r7, #4]
 219 00da 1A60     		str	r2, [r3, #0]
 220 00dc 05E0     		b	.L17
 221              	.L16:
 225:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 226:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 227:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 228:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_NART;
 222              		.loc 1 228 0
 223 00de 7B68     		ldr	r3, [r7, #4]
 224 00e0 1B68     		ldr	r3, [r3, #0]
 225 00e2 23F01002 		bic	r2, r3, #16
 226 00e6 7B68     		ldr	r3, [r7, #4]
 227 00e8 1A60     		str	r2, [r3, #0]
 228              	.L17:
 229:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 230:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 231:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set the receive FIFO locked mode */
 232:../StdPeripheralDriver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_RFLM == ENABLE)
 229              		.loc 1 232 0
 230 00ea 3B68     		ldr	r3, [r7, #0]
 231 00ec 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 232 00ee 012B     		cmp	r3, #1
 233 00f0 06D1     		bne	.L18
 233:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 234:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_RFLM;
 234              		.loc 1 234 0
 235 00f2 7B68     		ldr	r3, [r7, #4]
 236 00f4 1B68     		ldr	r3, [r3, #0]
 237 00f6 43F00802 		orr	r2, r3, #8
 238 00fa 7B68     		ldr	r3, [r7, #4]
 239 00fc 1A60     		str	r2, [r3, #0]
 240 00fe 05E0     		b	.L19
 241              	.L18:
 235:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 236:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 237:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 238:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_RFLM;
 242              		.loc 1 238 0
 243 0100 7B68     		ldr	r3, [r7, #4]
 244 0102 1B68     		ldr	r3, [r3, #0]
 245 0104 23F00802 		bic	r2, r3, #8
 246 0108 7B68     		ldr	r3, [r7, #4]
 247 010a 1A60     		str	r2, [r3, #0]
 248              	.L19:
 239:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 240:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 241:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set the transmit FIFO priority */
 242:../StdPeripheralDriver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TXFP == ENABLE)
 249              		.loc 1 242 0
 250 010c 3B68     		ldr	r3, [r7, #0]
 251 010e DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 252 0110 012B     		cmp	r3, #1
 253 0112 06D1     		bne	.L20
 243:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 244:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TXFP;
 254              		.loc 1 244 0
 255 0114 7B68     		ldr	r3, [r7, #4]
 256 0116 1B68     		ldr	r3, [r3, #0]
 257 0118 43F00402 		orr	r2, r3, #4
 258 011c 7B68     		ldr	r3, [r7, #4]
 259 011e 1A60     		str	r2, [r3, #0]
 260 0120 05E0     		b	.L21
 261              	.L20:
 245:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 246:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 247:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 248:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TXFP;
 262              		.loc 1 248 0
 263 0122 7B68     		ldr	r3, [r7, #4]
 264 0124 1B68     		ldr	r3, [r3, #0]
 265 0126 23F00402 		bic	r2, r3, #4
 266 012a 7B68     		ldr	r3, [r7, #4]
 267 012c 1A60     		str	r2, [r3, #0]
 268              	.L21:
 249:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 250:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 251:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set the bit timing register */
 252:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->BTR = (uint32_t)((uint32_t)CAN_InitStruct->CAN_Mode << 30) | \
 269              		.loc 1 252 0
 270 012e 3B68     		ldr	r3, [r7, #0]
 271 0130 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 272 0132 4FEA8372 		lsl	r2, r3, #30
 253:../StdPeripheralDriver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 273              		.loc 1 253 0
 274 0136 3B68     		ldr	r3, [r7, #0]
 275 0138 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 276 013a 4FEA0363 		lsl	r3, r3, #24
 252:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->BTR = (uint32_t)((uint32_t)CAN_InitStruct->CAN_Mode << 30) | \
 277              		.loc 1 252 0
 278 013e 1A43     		orrs	r2, r2, r3
 254:../StdPeripheralDriver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 279              		.loc 1 254 0
 280 0140 3B68     		ldr	r3, [r7, #0]
 281 0142 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 282 0144 4FEA0343 		lsl	r3, r3, #16
 253:../StdPeripheralDriver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 283              		.loc 1 253 0
 284 0148 1A43     		orrs	r2, r2, r3
 255:../StdPeripheralDriver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 285              		.loc 1 255 0
 286 014a 3B68     		ldr	r3, [r7, #0]
 287 014c 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 288 014e 4FEA0353 		lsl	r3, r3, #20
 254:../StdPeripheralDriver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 289              		.loc 1 254 0
 290 0152 1A43     		orrs	r2, r2, r3
 256:../StdPeripheralDriver/src/stm32f10x_can.c ****                ((uint32_t)CAN_InitStruct->CAN_Prescaler - 1);
 291              		.loc 1 256 0
 292 0154 3B68     		ldr	r3, [r7, #0]
 293 0156 1B88     		ldrh	r3, [r3, #0]
 294 0158 03F1FF33 		add	r3, r3, #-1
 255:../StdPeripheralDriver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 295              		.loc 1 255 0
 296 015c 1A43     		orrs	r2, r2, r3
 252:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->BTR = (uint32_t)((uint32_t)CAN_InitStruct->CAN_Mode << 30) | \
 297              		.loc 1 252 0
 298 015e 7B68     		ldr	r3, [r7, #4]
 299 0160 DA61     		str	r2, [r3, #28]
 257:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 258:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Request leave initialisation */
 259:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR &= ~(uint32_t)CAN_MCR_INRQ;
 300              		.loc 1 259 0
 301 0162 7B68     		ldr	r3, [r7, #4]
 302 0164 1B68     		ldr	r3, [r3, #0]
 303 0166 23F00102 		bic	r2, r3, #1
 304 016a 7B68     		ldr	r3, [r7, #4]
 305 016c 1A60     		str	r2, [r3, #0]
 260:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 261:../StdPeripheralDriver/src/stm32f10x_can.c ****    /* Wait the acknowledge */
 262:../StdPeripheralDriver/src/stm32f10x_can.c ****    wait_ack = 0;
 306              		.loc 1 262 0
 307 016e 4FF00003 		mov	r3, #0
 308 0172 BB60     		str	r3, [r7, #8]
 263:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 264:../StdPeripheralDriver/src/stm32f10x_can.c ****    while (((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 309              		.loc 1 264 0
 310 0174 03E0     		b	.L22
 311              	.L24:
 265:../StdPeripheralDriver/src/stm32f10x_can.c ****    {
 266:../StdPeripheralDriver/src/stm32f10x_can.c ****      wait_ack++;
 312              		.loc 1 266 0
 313 0176 BB68     		ldr	r3, [r7, #8]
 314 0178 03F10103 		add	r3, r3, #1
 315 017c BB60     		str	r3, [r7, #8]
 316              	.L22:
 264:../StdPeripheralDriver/src/stm32f10x_can.c ****    while (((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 317              		.loc 1 264 0 discriminator 1
 318 017e 7B68     		ldr	r3, [r7, #4]
 319 0180 5B68     		ldr	r3, [r3, #4]
 320 0182 03F00103 		and	r3, r3, #1
 321 0186 002B     		cmp	r3, #0
 322 0188 04D0     		beq	.L23
 264:../StdPeripheralDriver/src/stm32f10x_can.c ****    while (((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 323              		.loc 1 264 0 is_stmt 0 discriminator 2
 324 018a BA68     		ldr	r2, [r7, #8]
 325 018c 4FF6FF73 		movw	r3, #65535
 326 0190 9A42     		cmp	r2, r3
 327 0192 F0D1     		bne	.L24
 328              	.L23:
 267:../StdPeripheralDriver/src/stm32f10x_can.c ****    }
 268:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 269:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* ...and check acknowledged */
 270:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK)
 329              		.loc 1 270 0 is_stmt 1
 330 0194 7B68     		ldr	r3, [r7, #4]
 331 0196 5B68     		ldr	r3, [r3, #4]
 332 0198 03F00103 		and	r3, r3, #1
 333 019c 002B     		cmp	r3, #0
 334 019e 03D0     		beq	.L25
 271:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 272:../StdPeripheralDriver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Failed;
 335              		.loc 1 272 0
 336 01a0 4FF00003 		mov	r3, #0
 337 01a4 FB73     		strb	r3, [r7, #15]
 338 01a6 02E0     		b	.L9
 339              	.L25:
 273:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 274:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 275:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 276:../StdPeripheralDriver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Success ;
 340              		.loc 1 276 0
 341 01a8 4FF00103 		mov	r3, #1
 342 01ac FB73     		strb	r3, [r7, #15]
 343              	.L9:
 277:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 278:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 279:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 280:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* At this step, return the status of initialization */
 281:../StdPeripheralDriver/src/stm32f10x_can.c ****   return InitStatus;
 344              		.loc 1 281 0
 345 01ae FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 282:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 346              		.loc 1 282 0
 347 01b0 1846     		mov	r0, r3
 348 01b2 07F11407 		add	r7, r7, #20
 349 01b6 BD46     		mov	sp, r7
 350 01b8 80BC     		pop	{r7}
 351 01ba 7047     		bx	lr
 352              		.cfi_endproc
 353              	.LFE30:
 355              		.section	.text.CAN_FilterInit,"ax",%progbits
 356              		.align	2
 357              		.global	CAN_FilterInit
 358              		.thumb
 359              		.thumb_func
 361              	CAN_FilterInit:
 362              	.LFB31:
 283:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 284:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 285:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 286:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         parameters in the CAN_FilterInitStruct.
 287:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_FilterInitStruct: pointer to a CAN_FilterInitTypeDef
 288:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                               structure that contains the configuration 
 289:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                               information.
 290:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 291:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 292:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_FilterInit(CAN_FilterInitTypeDef* CAN_FilterInitStruct)
 293:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 363              		.loc 1 293 0
 364              		.cfi_startproc
 365              		@ args = 0, pretend = 0, frame = 16
 366              		@ frame_needed = 1, uses_anonymous_args = 0
 367              		@ link register save eliminated.
 368 0000 80B4     		push	{r7}
 369              	.LCFI6:
 370              		.cfi_def_cfa_offset 4
 371              		.cfi_offset 7, -4
 372 0002 85B0     		sub	sp, sp, #20
 373              	.LCFI7:
 374              		.cfi_def_cfa_offset 24
 375 0004 00AF     		add	r7, sp, #0
 376              	.LCFI8:
 377              		.cfi_def_cfa_register 7
 378 0006 7860     		str	r0, [r7, #4]
 294:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint32_t filter_number_bit_pos = 0;
 379              		.loc 1 294 0
 380 0008 4FF00003 		mov	r3, #0
 381 000c FB60     		str	r3, [r7, #12]
 295:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 296:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_NUMBER(CAN_FilterInitStruct->CAN_FilterNumber));
 297:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_MODE(CAN_FilterInitStruct->CAN_FilterMode));
 298:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_SCALE(CAN_FilterInitStruct->CAN_FilterScale));
 299:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_FIFO(CAN_FilterInitStruct->CAN_FilterFIFOAssignment));
 300:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_FilterInitStruct->CAN_FilterActivation));
 301:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 302:../StdPeripheralDriver/src/stm32f10x_can.c ****   filter_number_bit_pos = ((uint32_t)1) << CAN_FilterInitStruct->CAN_FilterNumber;
 382              		.loc 1 302 0
 383 000e 7B68     		ldr	r3, [r7, #4]
 384 0010 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 385 0012 4FF00102 		mov	r2, #1
 386 0016 02FA03F3 		lsl	r3, r2, r3
 387 001a FB60     		str	r3, [r7, #12]
 303:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 304:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialisation mode for the filter */
 305:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 388              		.loc 1 305 0
 389 001c 4FF4C843 		mov	r3, #25600
 390 0020 C4F20003 		movt	r3, 16384
 391 0024 4FF4C842 		mov	r2, #25600
 392 0028 C4F20002 		movt	r2, 16384
 393 002c D2F80022 		ldr	r2, [r2, #512]
 394 0030 42F00102 		orr	r2, r2, #1
 395 0034 C3F80022 		str	r2, [r3, #512]
 306:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 307:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Filter Deactivation */
 308:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN1->FA1R &= ~(uint32_t)filter_number_bit_pos;
 396              		.loc 1 308 0
 397 0038 4FF4C843 		mov	r3, #25600
 398 003c C4F20003 		movt	r3, 16384
 399 0040 4FF4C842 		mov	r2, #25600
 400 0044 C4F20002 		movt	r2, 16384
 401 0048 D2F81C12 		ldr	r1, [r2, #540]
 402 004c FA68     		ldr	r2, [r7, #12]
 403 004e 6FEA0202 		mvn	r2, r2
 404 0052 0A40     		ands	r2, r2, r1
 405 0054 C3F81C22 		str	r2, [r3, #540]
 309:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 310:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Filter Scale */
 311:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_16bit)
 406              		.loc 1 311 0
 407 0058 7B68     		ldr	r3, [r7, #4]
 408 005a 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 409 005c 002B     		cmp	r3, #0
 410 005e 33D1     		bne	.L28
 312:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 313:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* 16-bit scale for the filter */
 314:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->FS1R &= ~(uint32_t)filter_number_bit_pos;
 411              		.loc 1 314 0
 412 0060 4FF4C843 		mov	r3, #25600
 413 0064 C4F20003 		movt	r3, 16384
 414 0068 4FF4C842 		mov	r2, #25600
 415 006c C4F20002 		movt	r2, 16384
 416 0070 D2F80C12 		ldr	r1, [r2, #524]
 417 0074 FA68     		ldr	r2, [r7, #12]
 418 0076 6FEA0202 		mvn	r2, r2
 419 007a 0A40     		ands	r2, r2, r1
 420 007c C3F80C22 		str	r2, [r3, #524]
 315:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 316:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* First 16-bit identifier and First 16-bit mask */
 317:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Or First 16-bit identifier and Second 16-bit identifier */
 318:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 421              		.loc 1 318 0
 422 0080 4FF4C843 		mov	r3, #25600
 423 0084 C4F20003 		movt	r3, 16384
 424 0088 7A68     		ldr	r2, [r7, #4]
 425 008a 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 319:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 426              		.loc 1 319 0
 427 008c 7968     		ldr	r1, [r7, #4]
 428 008e C988     		ldrh	r1, [r1, #6]
 429 0090 4FEA0140 		lsl	r0, r1, #16
 320:../StdPeripheralDriver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 430              		.loc 1 320 0
 431 0094 7968     		ldr	r1, [r7, #4]
 432 0096 4988     		ldrh	r1, [r1, #2]
 319:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 433              		.loc 1 319 0
 434 0098 0143     		orrs	r1, r1, r0
 318:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 435              		.loc 1 318 0
 436 009a 02F14802 		add	r2, r2, #72
 437 009e 43F83210 		str	r1, [r3, r2, lsl #3]
 321:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 322:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Second 16-bit identifier and Second 16-bit mask */
 323:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Or Third 16-bit identifier and Fourth 16-bit identifier */
 324:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 438              		.loc 1 324 0
 439 00a2 4FF4C842 		mov	r2, #25600
 440 00a6 C4F20002 		movt	r2, 16384
 441 00aa 7B68     		ldr	r3, [r7, #4]
 442 00ac 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 325:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 443              		.loc 1 325 0
 444 00ae 7968     		ldr	r1, [r7, #4]
 445 00b0 8988     		ldrh	r1, [r1, #4]
 446 00b2 4FEA0140 		lsl	r0, r1, #16
 326:../StdPeripheralDriver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 447              		.loc 1 326 0
 448 00b6 7968     		ldr	r1, [r7, #4]
 449 00b8 0988     		ldrh	r1, [r1, #0]
 325:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 450              		.loc 1 325 0
 451 00ba 0143     		orrs	r1, r1, r0
 324:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 452              		.loc 1 324 0
 453 00bc 03F14803 		add	r3, r3, #72
 454 00c0 4FEAC303 		lsl	r3, r3, #3
 455 00c4 D318     		adds	r3, r2, r3
 456 00c6 5960     		str	r1, [r3, #4]
 457              	.L28:
 327:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 328:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 329:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_32bit)
 458              		.loc 1 329 0
 459 00c8 7B68     		ldr	r3, [r7, #4]
 460 00ca 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 461 00cc 012B     		cmp	r3, #1
 462 00ce 31D1     		bne	.L29
 330:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 331:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* 32-bit scale for the filter */
 332:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->FS1R |= filter_number_bit_pos;
 463              		.loc 1 332 0
 464 00d0 4FF4C843 		mov	r3, #25600
 465 00d4 C4F20003 		movt	r3, 16384
 466 00d8 4FF4C842 		mov	r2, #25600
 467 00dc C4F20002 		movt	r2, 16384
 468 00e0 D2F80C12 		ldr	r1, [r2, #524]
 469 00e4 FA68     		ldr	r2, [r7, #12]
 470 00e6 0A43     		orrs	r2, r2, r1
 471 00e8 C3F80C22 		str	r2, [r3, #524]
 333:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 334:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 472              		.loc 1 334 0
 473 00ec 4FF4C843 		mov	r3, #25600
 474 00f0 C4F20003 		movt	r3, 16384
 475 00f4 7A68     		ldr	r2, [r7, #4]
 476 00f6 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 335:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 477              		.loc 1 335 0
 478 00f8 7968     		ldr	r1, [r7, #4]
 479 00fa 0988     		ldrh	r1, [r1, #0]
 480 00fc 4FEA0140 		lsl	r0, r1, #16
 336:../StdPeripheralDriver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 481              		.loc 1 336 0
 482 0100 7968     		ldr	r1, [r7, #4]
 483 0102 4988     		ldrh	r1, [r1, #2]
 335:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 484              		.loc 1 335 0
 485 0104 0143     		orrs	r1, r1, r0
 334:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 486              		.loc 1 334 0
 487 0106 02F14802 		add	r2, r2, #72
 488 010a 43F83210 		str	r1, [r3, r2, lsl #3]
 337:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* 32-bit mask or Second 32-bit identifier */
 338:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 489              		.loc 1 338 0
 490 010e 4FF4C842 		mov	r2, #25600
 491 0112 C4F20002 		movt	r2, 16384
 492 0116 7B68     		ldr	r3, [r7, #4]
 493 0118 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 339:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 494              		.loc 1 339 0
 495 011a 7968     		ldr	r1, [r7, #4]
 496 011c 8988     		ldrh	r1, [r1, #4]
 497 011e 4FEA0140 		lsl	r0, r1, #16
 340:../StdPeripheralDriver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 498              		.loc 1 340 0
 499 0122 7968     		ldr	r1, [r7, #4]
 500 0124 C988     		ldrh	r1, [r1, #6]
 339:../StdPeripheralDriver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 501              		.loc 1 339 0
 502 0126 0143     		orrs	r1, r1, r0
 338:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 503              		.loc 1 338 0
 504 0128 03F14803 		add	r3, r3, #72
 505 012c 4FEAC303 		lsl	r3, r3, #3
 506 0130 D318     		adds	r3, r2, r3
 507 0132 5960     		str	r1, [r3, #4]
 508              	.L29:
 341:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 342:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 343:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Filter Mode */
 344:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdMask)
 509              		.loc 1 344 0
 510 0134 7B68     		ldr	r3, [r7, #4]
 511 0136 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 512 0138 002B     		cmp	r3, #0
 513 013a 10D1     		bne	.L30
 345:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 346:../StdPeripheralDriver/src/stm32f10x_can.c ****     /*Id/Mask mode for the filter*/
 347:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->FM1R &= ~(uint32_t)filter_number_bit_pos;
 514              		.loc 1 347 0
 515 013c 4FF4C843 		mov	r3, #25600
 516 0140 C4F20003 		movt	r3, 16384
 517 0144 4FF4C842 		mov	r2, #25600
 518 0148 C4F20002 		movt	r2, 16384
 519 014c D2F80412 		ldr	r1, [r2, #516]
 520 0150 FA68     		ldr	r2, [r7, #12]
 521 0152 6FEA0202 		mvn	r2, r2
 522 0156 0A40     		ands	r2, r2, r1
 523 0158 C3F80422 		str	r2, [r3, #516]
 524 015c 0DE0     		b	.L31
 525              	.L30:
 348:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 349:../StdPeripheralDriver/src/stm32f10x_can.c ****   else /* CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdList */
 350:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 351:../StdPeripheralDriver/src/stm32f10x_can.c ****     /*Identifier list mode for the filter*/
 352:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->FM1R |= (uint32_t)filter_number_bit_pos;
 526              		.loc 1 352 0
 527 015e 4FF4C843 		mov	r3, #25600
 528 0162 C4F20003 		movt	r3, 16384
 529 0166 4FF4C842 		mov	r2, #25600
 530 016a C4F20002 		movt	r2, 16384
 531 016e D2F80412 		ldr	r1, [r2, #516]
 532 0172 FA68     		ldr	r2, [r7, #12]
 533 0174 0A43     		orrs	r2, r2, r1
 534 0176 C3F80422 		str	r2, [r3, #516]
 535              	.L31:
 353:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 354:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 355:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Filter FIFO assignment */
 356:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO0)
 536              		.loc 1 356 0
 537 017a 7B68     		ldr	r3, [r7, #4]
 538 017c 1B89     		ldrh	r3, [r3, #8]
 539 017e 002B     		cmp	r3, #0
 540 0180 0FD1     		bne	.L32
 357:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 358:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* FIFO 0 assignation for the filter */
 359:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->FFA1R &= ~(uint32_t)filter_number_bit_pos;
 541              		.loc 1 359 0
 542 0182 4FF4C843 		mov	r3, #25600
 543 0186 C4F20003 		movt	r3, 16384
 544 018a 4FF4C842 		mov	r2, #25600
 545 018e C4F20002 		movt	r2, 16384
 546 0192 D2F81412 		ldr	r1, [r2, #532]
 547 0196 FA68     		ldr	r2, [r7, #12]
 548 0198 6FEA0202 		mvn	r2, r2
 549 019c 0A40     		ands	r2, r2, r1
 550 019e C3F81422 		str	r2, [r3, #532]
 551              	.L32:
 360:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 361:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 362:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO1)
 552              		.loc 1 362 0
 553 01a2 7B68     		ldr	r3, [r7, #4]
 554 01a4 1B89     		ldrh	r3, [r3, #8]
 555 01a6 012B     		cmp	r3, #1
 556 01a8 0DD1     		bne	.L33
 363:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 364:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* FIFO 1 assignation for the filter */
 365:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->FFA1R |= (uint32_t)filter_number_bit_pos;
 557              		.loc 1 365 0
 558 01aa 4FF4C843 		mov	r3, #25600
 559 01ae C4F20003 		movt	r3, 16384
 560 01b2 4FF4C842 		mov	r2, #25600
 561 01b6 C4F20002 		movt	r2, 16384
 562 01ba D2F81412 		ldr	r1, [r2, #532]
 563 01be FA68     		ldr	r2, [r7, #12]
 564 01c0 0A43     		orrs	r2, r2, r1
 565 01c2 C3F81422 		str	r2, [r3, #532]
 566              	.L33:
 366:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 367:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 368:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Filter activation */
 369:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterActivation == ENABLE)
 567              		.loc 1 369 0
 568 01c6 7B68     		ldr	r3, [r7, #4]
 569 01c8 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 570 01ca 012B     		cmp	r3, #1
 571 01cc 0DD1     		bne	.L34
 370:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 371:../StdPeripheralDriver/src/stm32f10x_can.c ****     CAN1->FA1R |= filter_number_bit_pos;
 572              		.loc 1 371 0
 573 01ce 4FF4C843 		mov	r3, #25600
 574 01d2 C4F20003 		movt	r3, 16384
 575 01d6 4FF4C842 		mov	r2, #25600
 576 01da C4F20002 		movt	r2, 16384
 577 01de D2F81C12 		ldr	r1, [r2, #540]
 578 01e2 FA68     		ldr	r2, [r7, #12]
 579 01e4 0A43     		orrs	r2, r2, r1
 580 01e6 C3F81C22 		str	r2, [r3, #540]
 581              	.L34:
 372:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 373:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 374:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Leave the initialisation mode for the filter */
 375:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 582              		.loc 1 375 0
 583 01ea 4FF4C843 		mov	r3, #25600
 584 01ee C4F20003 		movt	r3, 16384
 585 01f2 4FF4C842 		mov	r2, #25600
 586 01f6 C4F20002 		movt	r2, 16384
 587 01fa D2F80022 		ldr	r2, [r2, #512]
 588 01fe 22F00102 		bic	r2, r2, #1
 589 0202 C3F80022 		str	r2, [r3, #512]
 376:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 590              		.loc 1 376 0
 591 0206 07F11407 		add	r7, r7, #20
 592 020a BD46     		mov	sp, r7
 593 020c 80BC     		pop	{r7}
 594 020e 7047     		bx	lr
 595              		.cfi_endproc
 596              	.LFE31:
 598              		.section	.text.CAN_StructInit,"ax",%progbits
 599              		.align	2
 600              		.global	CAN_StructInit
 601              		.thumb
 602              		.thumb_func
 604              	CAN_StructInit:
 605              	.LFB32:
 377:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 378:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 379:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Fills each CAN_InitStruct member with its default value.
 380:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure which
 381:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                         will be initialized.
 382:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 383:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 384:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_StructInit(CAN_InitTypeDef* CAN_InitStruct)
 385:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 606              		.loc 1 385 0
 607              		.cfi_startproc
 608              		@ args = 0, pretend = 0, frame = 8
 609              		@ frame_needed = 1, uses_anonymous_args = 0
 610              		@ link register save eliminated.
 611 0000 80B4     		push	{r7}
 612              	.LCFI9:
 613              		.cfi_def_cfa_offset 4
 614              		.cfi_offset 7, -4
 615 0002 83B0     		sub	sp, sp, #12
 616              	.LCFI10:
 617              		.cfi_def_cfa_offset 16
 618 0004 00AF     		add	r7, sp, #0
 619              	.LCFI11:
 620              		.cfi_def_cfa_register 7
 621 0006 7860     		str	r0, [r7, #4]
 386:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Reset CAN init structure parameters values */
 387:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 388:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the time triggered communication mode */
 389:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TTCM = DISABLE;
 622              		.loc 1 389 0
 623 0008 7B68     		ldr	r3, [r7, #4]
 624 000a 4FF00002 		mov	r2, #0
 625 000e 9A71     		strb	r2, [r3, #6]
 390:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 391:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the automatic bus-off management */
 392:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_ABOM = DISABLE;
 626              		.loc 1 392 0
 627 0010 7B68     		ldr	r3, [r7, #4]
 628 0012 4FF00002 		mov	r2, #0
 629 0016 DA71     		strb	r2, [r3, #7]
 393:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 394:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the automatic wake-up mode */
 395:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_AWUM = DISABLE;
 630              		.loc 1 395 0
 631 0018 7B68     		ldr	r3, [r7, #4]
 632 001a 4FF00002 		mov	r2, #0
 633 001e 1A72     		strb	r2, [r3, #8]
 396:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 397:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the no automatic retransmission */
 398:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_NART = DISABLE;
 634              		.loc 1 398 0
 635 0020 7B68     		ldr	r3, [r7, #4]
 636 0022 4FF00002 		mov	r2, #0
 637 0026 5A72     		strb	r2, [r3, #9]
 399:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 400:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the receive FIFO locked mode */
 401:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_RFLM = DISABLE;
 638              		.loc 1 401 0
 639 0028 7B68     		ldr	r3, [r7, #4]
 640 002a 4FF00002 		mov	r2, #0
 641 002e 9A72     		strb	r2, [r3, #10]
 402:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 403:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the transmit FIFO priority */
 404:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TXFP = DISABLE;
 642              		.loc 1 404 0
 643 0030 7B68     		ldr	r3, [r7, #4]
 644 0032 4FF00002 		mov	r2, #0
 645 0036 DA72     		strb	r2, [r3, #11]
 405:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 406:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the CAN_Mode member */
 407:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Mode = CAN_Mode_Normal;
 646              		.loc 1 407 0
 647 0038 7B68     		ldr	r3, [r7, #4]
 648 003a 4FF00002 		mov	r2, #0
 649 003e 9A70     		strb	r2, [r3, #2]
 408:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 409:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the CAN_SJW member */
 410:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_SJW = CAN_SJW_1tq;
 650              		.loc 1 410 0
 651 0040 7B68     		ldr	r3, [r7, #4]
 652 0042 4FF00002 		mov	r2, #0
 653 0046 DA70     		strb	r2, [r3, #3]
 411:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 412:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS1 member */
 413:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS1 = CAN_BS1_4tq;
 654              		.loc 1 413 0
 655 0048 7B68     		ldr	r3, [r7, #4]
 656 004a 4FF00302 		mov	r2, #3
 657 004e 1A71     		strb	r2, [r3, #4]
 414:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 415:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS2 member */
 416:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS2 = CAN_BS2_3tq;
 658              		.loc 1 416 0
 659 0050 7B68     		ldr	r3, [r7, #4]
 660 0052 4FF00202 		mov	r2, #2
 661 0056 5A71     		strb	r2, [r3, #5]
 417:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 418:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Initialize the CAN_Prescaler member */
 419:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Prescaler = 1;
 662              		.loc 1 419 0
 663 0058 7B68     		ldr	r3, [r7, #4]
 664 005a 4FF00102 		mov	r2, #1
 665 005e 1A80     		strh	r2, [r3, #0]	@ movhi
 420:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 666              		.loc 1 420 0
 667 0060 07F10C07 		add	r7, r7, #12
 668 0064 BD46     		mov	sp, r7
 669 0066 80BC     		pop	{r7}
 670 0068 7047     		bx	lr
 671              		.cfi_endproc
 672              	.LFE32:
 674 006a 00BF     		.section	.text.CAN_SlaveStartBank,"ax",%progbits
 675              		.align	2
 676              		.global	CAN_SlaveStartBank
 677              		.thumb
 678              		.thumb_func
 680              	CAN_SlaveStartBank:
 681              	.LFB33:
 421:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 422:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 423:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Select the start bank filter for slave CAN.
 424:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @note   This function applies only to STM32 Connectivity line devices.
 425:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_BankNumber: Select the start slave bank filter from 1..27.
 426:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 427:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 428:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_SlaveStartBank(uint8_t CAN_BankNumber) 
 429:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 682              		.loc 1 429 0
 683              		.cfi_startproc
 684              		@ args = 0, pretend = 0, frame = 8
 685              		@ frame_needed = 1, uses_anonymous_args = 0
 686              		@ link register save eliminated.
 687 0000 80B4     		push	{r7}
 688              	.LCFI12:
 689              		.cfi_def_cfa_offset 4
 690              		.cfi_offset 7, -4
 691 0002 83B0     		sub	sp, sp, #12
 692              	.LCFI13:
 693              		.cfi_def_cfa_offset 16
 694 0004 00AF     		add	r7, sp, #0
 695              	.LCFI14:
 696              		.cfi_def_cfa_register 7
 697 0006 0346     		mov	r3, r0
 698 0008 FB71     		strb	r3, [r7, #7]
 430:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 431:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BANKNUMBER(CAN_BankNumber));
 432:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 433:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Enter Initialisation mode for the filter */
 434:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 699              		.loc 1 434 0
 700 000a 4FF4C843 		mov	r3, #25600
 701 000e C4F20003 		movt	r3, 16384
 702 0012 4FF4C842 		mov	r2, #25600
 703 0016 C4F20002 		movt	r2, 16384
 704 001a D2F80022 		ldr	r2, [r2, #512]
 705 001e 42F00102 		orr	r2, r2, #1
 706 0022 C3F80022 		str	r2, [r3, #512]
 435:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 436:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Select the start slave bank */
 437:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN1->FMR &= (uint32_t)0xFFFFC0F1 ;
 707              		.loc 1 437 0
 708 0026 4FF4C843 		mov	r3, #25600
 709 002a C4F20003 		movt	r3, 16384
 710 002e 4FF4C842 		mov	r2, #25600
 711 0032 C4F20002 		movt	r2, 16384
 712 0036 D2F80022 		ldr	r2, [r2, #512]
 713 003a 22F47C52 		bic	r2, r2, #16128
 714 003e 22F00E02 		bic	r2, r2, #14
 715 0042 C3F80022 		str	r2, [r3, #512]
 438:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN1->FMR |= (uint32_t)(CAN_BankNumber)<<8;
 716              		.loc 1 438 0
 717 0046 4FF4C843 		mov	r3, #25600
 718 004a C4F20003 		movt	r3, 16384
 719 004e 4FF4C842 		mov	r2, #25600
 720 0052 C4F20002 		movt	r2, 16384
 721 0056 D2F80012 		ldr	r1, [r2, #512]
 722 005a FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 723 005c 4FEA0222 		lsl	r2, r2, #8
 724 0060 0A43     		orrs	r2, r2, r1
 725 0062 C3F80022 		str	r2, [r3, #512]
 439:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 440:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Leave Initialisation mode for the filter */
 441:../StdPeripheralDriver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 726              		.loc 1 441 0
 727 0066 4FF4C843 		mov	r3, #25600
 728 006a C4F20003 		movt	r3, 16384
 729 006e 4FF4C842 		mov	r2, #25600
 730 0072 C4F20002 		movt	r2, 16384
 731 0076 D2F80022 		ldr	r2, [r2, #512]
 732 007a 22F00102 		bic	r2, r2, #1
 733 007e C3F80022 		str	r2, [r3, #512]
 442:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 734              		.loc 1 442 0
 735 0082 07F10C07 		add	r7, r7, #12
 736 0086 BD46     		mov	sp, r7
 737 0088 80BC     		pop	{r7}
 738 008a 7047     		bx	lr
 739              		.cfi_endproc
 740              	.LFE33:
 742              		.section	.text.CAN_DBGFreeze,"ax",%progbits
 743              		.align	2
 744              		.global	CAN_DBGFreeze
 745              		.thumb
 746              		.thumb_func
 748              	CAN_DBGFreeze:
 749              	.LFB34:
 443:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 444:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 445:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Enables or disables the DBG Freeze for CAN.
 446:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
 447:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN peripheral. This parameter can 
 448:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                   be: ENABLE or DISABLE.
 449:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 450:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 451:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_DBGFreeze(CAN_TypeDef* CANx, FunctionalState NewState)
 452:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 750              		.loc 1 452 0
 751              		.cfi_startproc
 752              		@ args = 0, pretend = 0, frame = 8
 753              		@ frame_needed = 1, uses_anonymous_args = 0
 754              		@ link register save eliminated.
 755 0000 80B4     		push	{r7}
 756              	.LCFI15:
 757              		.cfi_def_cfa_offset 4
 758              		.cfi_offset 7, -4
 759 0002 83B0     		sub	sp, sp, #12
 760              	.LCFI16:
 761              		.cfi_def_cfa_offset 16
 762 0004 00AF     		add	r7, sp, #0
 763              	.LCFI17:
 764              		.cfi_def_cfa_register 7
 765 0006 7860     		str	r0, [r7, #4]
 766 0008 0B46     		mov	r3, r1
 767 000a FB70     		strb	r3, [r7, #3]
 453:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 454:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 455:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 456:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 457:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 768              		.loc 1 457 0
 769 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 770 000e 002B     		cmp	r3, #0
 771 0010 06D0     		beq	.L38
 458:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 459:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Enable Debug Freeze  */
 460:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR |= MCR_DBF;
 772              		.loc 1 460 0
 773 0012 7B68     		ldr	r3, [r7, #4]
 774 0014 1B68     		ldr	r3, [r3, #0]
 775 0016 43F48032 		orr	r2, r3, #65536
 776 001a 7B68     		ldr	r3, [r7, #4]
 777 001c 1A60     		str	r2, [r3, #0]
 778 001e 05E0     		b	.L37
 779              	.L38:
 461:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 462:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
 463:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 464:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Disable Debug Freeze */
 465:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR &= ~MCR_DBF;
 780              		.loc 1 465 0
 781 0020 7B68     		ldr	r3, [r7, #4]
 782 0022 1B68     		ldr	r3, [r3, #0]
 783 0024 23F48032 		bic	r2, r3, #65536
 784 0028 7B68     		ldr	r3, [r7, #4]
 785 002a 1A60     		str	r2, [r3, #0]
 786              	.L37:
 466:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 467:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 787              		.loc 1 467 0
 788 002c 07F10C07 		add	r7, r7, #12
 789 0030 BD46     		mov	sp, r7
 790 0032 80BC     		pop	{r7}
 791 0034 7047     		bx	lr
 792              		.cfi_endproc
 793              	.LFE34:
 795 0036 00BF     		.section	.text.CAN_TTComModeCmd,"ax",%progbits
 796              		.align	2
 797              		.global	CAN_TTComModeCmd
 798              		.thumb
 799              		.thumb_func
 801              	CAN_TTComModeCmd:
 802              	.LFB35:
 468:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 469:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 470:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 471:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Enables or disabes the CAN Time TriggerOperation communication mode.
 472:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 473:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  NewState : Mode new state , can be one of @ref FunctionalState.
 474:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @note   when enabled, Time stamp (TIME[15:0]) value is sent in the last 
 475:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         two data bytes of the 8-byte message: TIME[7:0] in data byte 6 
 476:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         and TIME[15:8] in data byte 7 
 477:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @note   DLC must be programmed as 8 in order Time Stamp (2 bytes) to be 
 478:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         sent over the CAN bus.  
 479:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None
 480:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 481:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_TTComModeCmd(CAN_TypeDef* CANx, FunctionalState NewState)
 482:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 803              		.loc 1 482 0
 804              		.cfi_startproc
 805              		@ args = 0, pretend = 0, frame = 8
 806              		@ frame_needed = 1, uses_anonymous_args = 0
 807              		@ link register save eliminated.
 808 0000 80B4     		push	{r7}
 809              	.LCFI18:
 810              		.cfi_def_cfa_offset 4
 811              		.cfi_offset 7, -4
 812 0002 83B0     		sub	sp, sp, #12
 813              	.LCFI19:
 814              		.cfi_def_cfa_offset 16
 815 0004 00AF     		add	r7, sp, #0
 816              	.LCFI20:
 817              		.cfi_def_cfa_register 7
 818 0006 7860     		str	r0, [r7, #4]
 819 0008 0B46     		mov	r3, r1
 820 000a FB70     		strb	r3, [r7, #3]
 483:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 484:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 485:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 486:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 821              		.loc 1 486 0
 822 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 823 000e 002B     		cmp	r3, #0
 824 0010 1ED0     		beq	.L41
 487:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 488:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Enable the TTCM mode */
 489:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR |= CAN_MCR_TTCM;
 825              		.loc 1 489 0
 826 0012 7B68     		ldr	r3, [r7, #4]
 827 0014 1B68     		ldr	r3, [r3, #0]
 828 0016 43F08002 		orr	r2, r3, #128
 829 001a 7B68     		ldr	r3, [r7, #4]
 830 001c 1A60     		str	r2, [r3, #0]
 490:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 491:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set TGT bits */
 492:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR |= ((uint32_t)CAN_TDT0R_TGT);
 831              		.loc 1 492 0
 832 001e 7B68     		ldr	r3, [r7, #4]
 833 0020 D3F88431 		ldr	r3, [r3, #388]
 834 0024 43F48072 		orr	r2, r3, #256
 835 0028 7B68     		ldr	r3, [r7, #4]
 836 002a C3F88421 		str	r2, [r3, #388]
 493:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR |= ((uint32_t)CAN_TDT1R_TGT);
 837              		.loc 1 493 0
 838 002e 7B68     		ldr	r3, [r7, #4]
 839 0030 D3F89431 		ldr	r3, [r3, #404]
 840 0034 43F48072 		orr	r2, r3, #256
 841 0038 7B68     		ldr	r3, [r7, #4]
 842 003a C3F89421 		str	r2, [r3, #404]
 494:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR |= ((uint32_t)CAN_TDT2R_TGT);
 843              		.loc 1 494 0
 844 003e 7B68     		ldr	r3, [r7, #4]
 845 0040 D3F8A431 		ldr	r3, [r3, #420]
 846 0044 43F48072 		orr	r2, r3, #256
 847 0048 7B68     		ldr	r3, [r7, #4]
 848 004a C3F8A421 		str	r2, [r3, #420]
 849 004e 1DE0     		b	.L40
 850              	.L41:
 495:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 496:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
 497:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 498:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Disable the TTCM mode */
 499:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(uint32_t)CAN_MCR_TTCM);
 851              		.loc 1 499 0
 852 0050 7B68     		ldr	r3, [r7, #4]
 853 0052 1B68     		ldr	r3, [r3, #0]
 854 0054 23F08002 		bic	r2, r3, #128
 855 0058 7B68     		ldr	r3, [r7, #4]
 856 005a 1A60     		str	r2, [r3, #0]
 500:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 501:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Reset TGT bits */
 502:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR &= ((uint32_t)~CAN_TDT0R_TGT);
 857              		.loc 1 502 0
 858 005c 7B68     		ldr	r3, [r7, #4]
 859 005e D3F88431 		ldr	r3, [r3, #388]
 860 0062 23F48072 		bic	r2, r3, #256
 861 0066 7B68     		ldr	r3, [r7, #4]
 862 0068 C3F88421 		str	r2, [r3, #388]
 503:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 863              		.loc 1 503 0
 864 006c 7B68     		ldr	r3, [r7, #4]
 865 006e D3F89431 		ldr	r3, [r3, #404]
 866 0072 23F48072 		bic	r2, r3, #256
 867 0076 7B68     		ldr	r3, [r7, #4]
 868 0078 C3F89421 		str	r2, [r3, #404]
 504:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 869              		.loc 1 504 0
 870 007c 7B68     		ldr	r3, [r7, #4]
 871 007e D3F8A431 		ldr	r3, [r3, #420]
 872 0082 23F48072 		bic	r2, r3, #256
 873 0086 7B68     		ldr	r3, [r7, #4]
 874 0088 C3F8A421 		str	r2, [r3, #420]
 875              	.L40:
 505:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 506:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 876              		.loc 1 506 0
 877 008c 07F10C07 		add	r7, r7, #12
 878 0090 BD46     		mov	sp, r7
 879 0092 80BC     		pop	{r7}
 880 0094 7047     		bx	lr
 881              		.cfi_endproc
 882              	.LFE35:
 884 0096 00BF     		.section	.text.CAN_Transmit,"ax",%progbits
 885              		.align	2
 886              		.global	CAN_Transmit
 887              		.thumb
 888              		.thumb_func
 890              	CAN_Transmit:
 891              	.LFB36:
 507:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 508:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Initiates the transmission of a message.
 509:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 510:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  TxMessage: pointer to a structure which contains CAN Id, CAN
 511:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    DLC and CAN data.
 512:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval The number of the mailbox that is used for transmission
 513:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    or CAN_TxStatus_NoMailBox if there is no empty mailbox.
 514:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 515:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_Transmit(CAN_TypeDef* CANx, CanTxMsg* TxMessage)
 516:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 892              		.loc 1 516 0
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 16
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 80B4     		push	{r7}
 898              	.LCFI21:
 899              		.cfi_def_cfa_offset 4
 900              		.cfi_offset 7, -4
 901 0002 85B0     		sub	sp, sp, #20
 902              	.LCFI22:
 903              		.cfi_def_cfa_offset 24
 904 0004 00AF     		add	r7, sp, #0
 905              	.LCFI23:
 906              		.cfi_def_cfa_register 7
 907 0006 7860     		str	r0, [r7, #4]
 908 0008 3960     		str	r1, [r7, #0]
 517:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t transmit_mailbox = 0;
 909              		.loc 1 517 0
 910 000a 4FF00003 		mov	r3, #0
 911 000e FB73     		strb	r3, [r7, #15]
 518:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 519:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 520:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IDTYPE(TxMessage->IDE));
 521:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_RTR(TxMessage->RTR));
 522:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_DLC(TxMessage->DLC));
 523:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 524:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Select one empty transmit mailbox */
 525:../StdPeripheralDriver/src/stm32f10x_can.c ****   if ((CANx->TSR&CAN_TSR_TME0) == CAN_TSR_TME0)
 912              		.loc 1 525 0
 913 0010 7B68     		ldr	r3, [r7, #4]
 914 0012 9B68     		ldr	r3, [r3, #8]
 915 0014 03F08063 		and	r3, r3, #67108864
 916 0018 002B     		cmp	r3, #0
 917 001a 03D0     		beq	.L44
 526:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 527:../StdPeripheralDriver/src/stm32f10x_can.c ****     transmit_mailbox = 0;
 918              		.loc 1 527 0
 919 001c 4FF00003 		mov	r3, #0
 920 0020 FB73     		strb	r3, [r7, #15]
 921 0022 16E0     		b	.L45
 922              	.L44:
 528:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 529:../StdPeripheralDriver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME1) == CAN_TSR_TME1)
 923              		.loc 1 529 0
 924 0024 7B68     		ldr	r3, [r7, #4]
 925 0026 9B68     		ldr	r3, [r3, #8]
 926 0028 03F00063 		and	r3, r3, #134217728
 927 002c 002B     		cmp	r3, #0
 928 002e 03D0     		beq	.L46
 530:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 531:../StdPeripheralDriver/src/stm32f10x_can.c ****     transmit_mailbox = 1;
 929              		.loc 1 531 0
 930 0030 4FF00103 		mov	r3, #1
 931 0034 FB73     		strb	r3, [r7, #15]
 932 0036 0CE0     		b	.L45
 933              	.L46:
 532:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 533:../StdPeripheralDriver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME2) == CAN_TSR_TME2)
 934              		.loc 1 533 0
 935 0038 7B68     		ldr	r3, [r7, #4]
 936 003a 9B68     		ldr	r3, [r3, #8]
 937 003c 03F08053 		and	r3, r3, #268435456
 938 0040 002B     		cmp	r3, #0
 939 0042 03D0     		beq	.L47
 534:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 535:../StdPeripheralDriver/src/stm32f10x_can.c ****     transmit_mailbox = 2;
 940              		.loc 1 535 0
 941 0044 4FF00203 		mov	r3, #2
 942 0048 FB73     		strb	r3, [r7, #15]
 943 004a 02E0     		b	.L45
 944              	.L47:
 536:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 537:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
 538:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 539:../StdPeripheralDriver/src/stm32f10x_can.c ****     transmit_mailbox = CAN_TxStatus_NoMailBox;
 945              		.loc 1 539 0
 946 004c 4FF00403 		mov	r3, #4
 947 0050 FB73     		strb	r3, [r7, #15]
 948              	.L45:
 540:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 541:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 542:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (transmit_mailbox != CAN_TxStatus_NoMailBox)
 949              		.loc 1 542 0
 950 0052 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 951 0054 042B     		cmp	r3, #4
 952 0056 00F0BA80 		beq	.L48
 543:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 544:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set up the Id */
 545:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR &= TMIDxR_TXRQ;
 953              		.loc 1 545 0
 954 005a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 955 005c FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 956 005e 7968     		ldr	r1, [r7, #4]
 957 0060 02F11802 		add	r2, r2, #24
 958 0064 4FEA0212 		lsl	r2, r2, #4
 959 0068 8A18     		adds	r2, r1, r2
 960 006a 1268     		ldr	r2, [r2, #0]
 961 006c 02F00102 		and	r2, r2, #1
 962 0070 7968     		ldr	r1, [r7, #4]
 963 0072 03F11803 		add	r3, r3, #24
 964 0076 4FEA0313 		lsl	r3, r3, #4
 965 007a CB18     		adds	r3, r1, r3
 966 007c 1A60     		str	r2, [r3, #0]
 546:../StdPeripheralDriver/src/stm32f10x_can.c ****     if (TxMessage->IDE == CAN_Id_Standard)
 967              		.loc 1 546 0
 968 007e 3B68     		ldr	r3, [r7, #0]
 969 0080 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 970 0082 002B     		cmp	r3, #0
 971 0084 18D1     		bne	.L49
 547:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 548:../StdPeripheralDriver/src/stm32f10x_can.c ****       assert_param(IS_CAN_STDID(TxMessage->StdId));  
 549:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->StdId << 21) | \
 972              		.loc 1 549 0
 973 0086 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 974 0088 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 975 008a 7968     		ldr	r1, [r7, #4]
 976 008c 02F11802 		add	r2, r2, #24
 977 0090 4FEA0212 		lsl	r2, r2, #4
 978 0094 8A18     		adds	r2, r1, r2
 979 0096 1168     		ldr	r1, [r2, #0]
 980 0098 3A68     		ldr	r2, [r7, #0]
 981 009a 1268     		ldr	r2, [r2, #0]
 982 009c 4FEA4250 		lsl	r0, r2, #21
 550:../StdPeripheralDriver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 983              		.loc 1 550 0
 984 00a0 3A68     		ldr	r2, [r7, #0]
 985 00a2 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 549:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->StdId << 21) | \
 986              		.loc 1 549 0
 987 00a4 0243     		orrs	r2, r2, r0
 988 00a6 0A43     		orrs	r2, r2, r1
 989 00a8 7968     		ldr	r1, [r7, #4]
 990 00aa 03F11803 		add	r3, r3, #24
 991 00ae 4FEA0313 		lsl	r3, r3, #4
 992 00b2 CB18     		adds	r3, r1, r3
 993 00b4 1A60     		str	r2, [r3, #0]
 994 00b6 1AE0     		b	.L50
 995              	.L49:
 551:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 552:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 553:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 554:../StdPeripheralDriver/src/stm32f10x_can.c ****       assert_param(IS_CAN_EXTID(TxMessage->ExtId));
 555:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->ExtId << 3) | \
 996              		.loc 1 555 0
 997 00b8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 998 00ba FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 999 00bc 7968     		ldr	r1, [r7, #4]
 1000 00be 02F11802 		add	r2, r2, #24
 1001 00c2 4FEA0212 		lsl	r2, r2, #4
 1002 00c6 8A18     		adds	r2, r1, r2
 1003 00c8 1168     		ldr	r1, [r2, #0]
 1004 00ca 3A68     		ldr	r2, [r7, #0]
 1005 00cc 5268     		ldr	r2, [r2, #4]
 1006 00ce 4FEAC200 		lsl	r0, r2, #3
 556:../StdPeripheralDriver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1007              		.loc 1 556 0
 1008 00d2 3A68     		ldr	r2, [r7, #0]
 1009 00d4 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 555:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->ExtId << 3) | \
 1010              		.loc 1 555 0
 1011 00d6 1043     		orrs	r0, r0, r2
 557:../StdPeripheralDriver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 1012              		.loc 1 557 0
 1013 00d8 3A68     		ldr	r2, [r7, #0]
 1014 00da 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 556:../StdPeripheralDriver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 1015              		.loc 1 556 0
 1016 00dc 0243     		orrs	r2, r2, r0
 555:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->ExtId << 3) | \
 1017              		.loc 1 555 0
 1018 00de 0A43     		orrs	r2, r2, r1
 1019 00e0 7968     		ldr	r1, [r7, #4]
 1020 00e2 03F11803 		add	r3, r3, #24
 1021 00e6 4FEA0313 		lsl	r3, r3, #4
 1022 00ea CB18     		adds	r3, r1, r3
 1023 00ec 1A60     		str	r2, [r3, #0]
 1024              	.L50:
 558:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 559:../StdPeripheralDriver/src/stm32f10x_can.c ****     
 560:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set up the DLC */
 561:../StdPeripheralDriver/src/stm32f10x_can.c ****     TxMessage->DLC &= (uint8_t)0x0000000F;
 1025              		.loc 1 561 0
 1026 00ee 3B68     		ldr	r3, [r7, #0]
 1027 00f0 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1028 00f2 03F00F03 		and	r3, r3, #15
 1029 00f6 DAB2     		uxtb	r2, r3
 1030 00f8 3B68     		ldr	r3, [r7, #0]
 1031 00fa 9A72     		strb	r2, [r3, #10]
 562:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR &= (uint32_t)0xFFFFFFF0;
 1032              		.loc 1 562 0
 1033 00fc FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1034 00fe FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1035 0100 7968     		ldr	r1, [r7, #4]
 1036 0102 02F11802 		add	r2, r2, #24
 1037 0106 4FEA0212 		lsl	r2, r2, #4
 1038 010a 8A18     		adds	r2, r1, r2
 1039 010c 5268     		ldr	r2, [r2, #4]
 1040 010e 22F00F02 		bic	r2, r2, #15
 1041 0112 7968     		ldr	r1, [r7, #4]
 1042 0114 03F11803 		add	r3, r3, #24
 1043 0118 4FEA0313 		lsl	r3, r3, #4
 1044 011c CB18     		adds	r3, r1, r3
 1045 011e 5A60     		str	r2, [r3, #4]
 563:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR |= TxMessage->DLC;
 1046              		.loc 1 563 0
 1047 0120 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1048 0122 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1049 0124 7968     		ldr	r1, [r7, #4]
 1050 0126 02F11802 		add	r2, r2, #24
 1051 012a 4FEA0212 		lsl	r2, r2, #4
 1052 012e 8A18     		adds	r2, r1, r2
 1053 0130 5168     		ldr	r1, [r2, #4]
 1054 0132 3A68     		ldr	r2, [r7, #0]
 1055 0134 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 1056 0136 0A43     		orrs	r2, r2, r1
 1057 0138 7968     		ldr	r1, [r7, #4]
 1058 013a 03F11803 		add	r3, r3, #24
 1059 013e 4FEA0313 		lsl	r3, r3, #4
 1060 0142 CB18     		adds	r3, r1, r3
 1061 0144 5A60     		str	r2, [r3, #4]
 564:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 565:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Set up the data field */
 566:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDLR = (((uint32_t)TxMessage->Data[3] << 24) | 
 1062              		.loc 1 566 0
 1063 0146 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1064 0148 3A68     		ldr	r2, [r7, #0]
 1065 014a 927B     		ldrb	r2, [r2, #14]	@ zero_extendqisi2
 1066 014c 4FEA0261 		lsl	r1, r2, #24
 567:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1067              		.loc 1 567 0
 1068 0150 3A68     		ldr	r2, [r7, #0]
 1069 0152 527B     		ldrb	r2, [r2, #13]	@ zero_extendqisi2
 1070 0154 4FEA0242 		lsl	r2, r2, #16
 566:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDLR = (((uint32_t)TxMessage->Data[3] << 24) | 
 1071              		.loc 1 566 0
 1072 0158 1143     		orrs	r1, r1, r2
 568:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1073              		.loc 1 568 0
 1074 015a 3A68     		ldr	r2, [r7, #0]
 1075 015c 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
 1076 015e 4FEA0222 		lsl	r2, r2, #8
 567:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 1077              		.loc 1 567 0
 1078 0162 1143     		orrs	r1, r1, r2
 569:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[0]));
 1079              		.loc 1 569 0
 1080 0164 3A68     		ldr	r2, [r7, #0]
 1081 0166 D27A     		ldrb	r2, [r2, #11]	@ zero_extendqisi2
 568:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 1082              		.loc 1 568 0
 1083 0168 0A43     		orrs	r2, r2, r1
 566:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDLR = (((uint32_t)TxMessage->Data[3] << 24) | 
 1084              		.loc 1 566 0
 1085 016a 7968     		ldr	r1, [r7, #4]
 1086 016c 4FEA0313 		lsl	r3, r3, #4
 1087 0170 CB18     		adds	r3, r1, r3
 1088 0172 03F5C473 		add	r3, r3, #392
 1089 0176 1A60     		str	r2, [r3, #0]
 570:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1090              		.loc 1 570 0
 1091 0178 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1092 017a 3A68     		ldr	r2, [r7, #0]
 1093 017c 927C     		ldrb	r2, [r2, #18]	@ zero_extendqisi2
 1094 017e 4FEA0261 		lsl	r1, r2, #24
 571:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1095              		.loc 1 571 0
 1096 0182 3A68     		ldr	r2, [r7, #0]
 1097 0184 527C     		ldrb	r2, [r2, #17]	@ zero_extendqisi2
 1098 0186 4FEA0242 		lsl	r2, r2, #16
 570:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1099              		.loc 1 570 0
 1100 018a 1143     		orrs	r1, r1, r2
 572:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1101              		.loc 1 572 0
 1102 018c 3A68     		ldr	r2, [r7, #0]
 1103 018e 127C     		ldrb	r2, [r2, #16]	@ zero_extendqisi2
 1104 0190 4FEA0222 		lsl	r2, r2, #8
 571:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 1105              		.loc 1 571 0
 1106 0194 1143     		orrs	r1, r1, r2
 573:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[4]));
 1107              		.loc 1 573 0
 1108 0196 3A68     		ldr	r2, [r7, #0]
 1109 0198 D27B     		ldrb	r2, [r2, #15]	@ zero_extendqisi2
 572:../StdPeripheralDriver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 1110              		.loc 1 572 0
 1111 019a 0A43     		orrs	r2, r2, r1
 570:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 1112              		.loc 1 570 0
 1113 019c 7968     		ldr	r1, [r7, #4]
 1114 019e 4FEA0313 		lsl	r3, r3, #4
 1115 01a2 CB18     		adds	r3, r1, r3
 1116 01a4 03F5C473 		add	r3, r3, #392
 1117 01a8 5A60     		str	r2, [r3, #4]
 574:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Request transmission */
 575:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR |= TMIDxR_TXRQ;
 1118              		.loc 1 575 0
 1119 01aa FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1120 01ac FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 1121 01ae 7968     		ldr	r1, [r7, #4]
 1122 01b0 02F11802 		add	r2, r2, #24
 1123 01b4 4FEA0212 		lsl	r2, r2, #4
 1124 01b8 8A18     		adds	r2, r1, r2
 1125 01ba 1268     		ldr	r2, [r2, #0]
 1126 01bc 42F00102 		orr	r2, r2, #1
 1127 01c0 7968     		ldr	r1, [r7, #4]
 1128 01c2 03F11803 		add	r3, r3, #24
 1129 01c6 4FEA0313 		lsl	r3, r3, #4
 1130 01ca CB18     		adds	r3, r1, r3
 1131 01cc 1A60     		str	r2, [r3, #0]
 1132              	.L48:
 576:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 577:../StdPeripheralDriver/src/stm32f10x_can.c ****   return transmit_mailbox;
 1133              		.loc 1 577 0
 1134 01ce FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 578:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1135              		.loc 1 578 0
 1136 01d0 1846     		mov	r0, r3
 1137 01d2 07F11407 		add	r7, r7, #20
 1138 01d6 BD46     		mov	sp, r7
 1139 01d8 80BC     		pop	{r7}
 1140 01da 7047     		bx	lr
 1141              		.cfi_endproc
 1142              	.LFE36:
 1144              		.section	.text.CAN_TransmitStatus,"ax",%progbits
 1145              		.align	2
 1146              		.global	CAN_TransmitStatus
 1147              		.thumb
 1148              		.thumb_func
 1150              	CAN_TransmitStatus:
 1151              	.LFB37:
 579:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 580:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 581:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Checks the transmission of a message.
 582:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:            where x can be 1 or 2 to to select the 
 583:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                          CAN peripheral.
 584:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  TransmitMailbox: the number of the mailbox that is used for 
 585:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                          transmission.
 586:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval CAN_TxStatus_Ok if the CAN driver transmits the message, CAN_TxStatus_Failed 
 587:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         in an other case.
 588:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 589:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_TransmitStatus(CAN_TypeDef* CANx, uint8_t TransmitMailbox)
 590:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1152              		.loc 1 590 0
 1153              		.cfi_startproc
 1154              		@ args = 0, pretend = 0, frame = 16
 1155              		@ frame_needed = 1, uses_anonymous_args = 0
 1156              		@ link register save eliminated.
 1157 0000 80B4     		push	{r7}
 1158              	.LCFI24:
 1159              		.cfi_def_cfa_offset 4
 1160              		.cfi_offset 7, -4
 1161 0002 85B0     		sub	sp, sp, #20
 1162              	.LCFI25:
 1163              		.cfi_def_cfa_offset 24
 1164 0004 00AF     		add	r7, sp, #0
 1165              	.LCFI26:
 1166              		.cfi_def_cfa_register 7
 1167 0006 7860     		str	r0, [r7, #4]
 1168 0008 0B46     		mov	r3, r1
 1169 000a FB70     		strb	r3, [r7, #3]
 591:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint32_t state = 0;
 1170              		.loc 1 591 0
 1171 000c 4FF00003 		mov	r3, #0
 1172 0010 FB60     		str	r3, [r7, #12]
 592:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 593:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 594:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 595:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(TransmitMailbox));
 596:../StdPeripheralDriver/src/stm32f10x_can.c ****  
 597:../StdPeripheralDriver/src/stm32f10x_can.c ****   switch (TransmitMailbox)
 1173              		.loc 1 597 0
 1174 0012 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1175 0014 012B     		cmp	r3, #1
 1176 0016 0CD0     		beq	.L55
 1177 0018 022B     		cmp	r3, #2
 1178 001a 13D0     		beq	.L56
 1179 001c 002B     		cmp	r3, #0
 1180 001e 1AD1     		bne	.L69
 1181              	.L54:
 598:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 599:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): 
 600:../StdPeripheralDriver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0);
 1182              		.loc 1 600 0
 1183 0020 7B68     		ldr	r3, [r7, #4]
 1184 0022 9A68     		ldr	r2, [r3, #8]
 1185 0024 4FF00303 		mov	r3, #3
 1186 0028 C0F20043 		movt	r3, 1024
 1187 002c 1340     		ands	r3, r3, r2
 1188 002e FB60     		str	r3, [r7, #12]
 601:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1189              		.loc 1 601 0
 1190 0030 15E0     		b	.L57
 1191              	.L55:
 602:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): 
 603:../StdPeripheralDriver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1);
 1192              		.loc 1 603 0
 1193 0032 7B68     		ldr	r3, [r7, #4]
 1194 0034 9A68     		ldr	r2, [r3, #8]
 1195 0036 4FF44073 		mov	r3, #768
 1196 003a C0F60003 		movt	r3, 2048
 1197 003e 1340     		ands	r3, r3, r2
 1198 0040 FB60     		str	r3, [r7, #12]
 604:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1199              		.loc 1 604 0
 1200 0042 0CE0     		b	.L57
 1201              	.L56:
 605:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): 
 606:../StdPeripheralDriver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2);
 1202              		.loc 1 606 0
 1203 0044 7B68     		ldr	r3, [r7, #4]
 1204 0046 9A68     		ldr	r2, [r3, #8]
 1205 0048 4FF00003 		mov	r3, #0
 1206 004c C1F20303 		movt	r3, 4099
 1207 0050 1340     		ands	r3, r3, r2
 1208 0052 FB60     		str	r3, [r7, #12]
 607:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1209              		.loc 1 607 0
 1210 0054 03E0     		b	.L57
 1211              	.L69:
 608:../StdPeripheralDriver/src/stm32f10x_can.c ****     default:
 609:../StdPeripheralDriver/src/stm32f10x_can.c ****       state = CAN_TxStatus_Failed;
 1212              		.loc 1 609 0
 1213 0056 4FF00003 		mov	r3, #0
 1214 005a FB60     		str	r3, [r7, #12]
 610:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1215              		.loc 1 610 0
 1216 005c 00BF     		nop
 1217              	.L57:
 611:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 612:../StdPeripheralDriver/src/stm32f10x_can.c ****   switch (state)
 1218              		.loc 1 612 0
 1219 005e FB68     		ldr	r3, [r7, #12]
 1220 0060 4FF48072 		mov	r2, #256
 1221 0064 C0F60002 		movt	r2, 2048
 1222 0068 9342     		cmp	r3, r2
 1223 006a 2FD0     		beq	.L62
 1224 006c 4FF48072 		mov	r2, #256
 1225 0070 C0F60002 		movt	r2, 2048
 1226 0074 9342     		cmp	r3, r2
 1227 0076 0ED8     		bhi	.L66
 1228 0078 4FF00102 		mov	r2, #1
 1229 007c C0F20042 		movt	r2, 1024
 1230 0080 9342     		cmp	r3, r2
 1231 0082 1FD0     		beq	.L60
 1232 0084 4FF00302 		mov	r2, #3
 1233 0088 C0F20042 		movt	r2, 1024
 1234 008c 9342     		cmp	r3, r2
 1235 008e 25D0     		beq	.L61
 1236 0090 002B     		cmp	r3, #0
 1237 0092 13D0     		beq	.L59
 1238 0094 2EE0     		b	.L58
 1239              	.L66:
 1240 0096 4FF00002 		mov	r2, #0
 1241 009a C1F20102 		movt	r2, 4097
 1242 009e 9342     		cmp	r3, r2
 1243 00a0 18D0     		beq	.L64
 1244 00a2 4FF00002 		mov	r2, #0
 1245 00a6 C1F20302 		movt	r2, 4099
 1246 00aa 9342     		cmp	r3, r2
 1247 00ac 1ED0     		beq	.L65
 1248 00ae 4FF44072 		mov	r2, #768
 1249 00b2 C0F60002 		movt	r2, 2048
 1250 00b6 9342     		cmp	r3, r2
 1251 00b8 14D0     		beq	.L63
 1252 00ba 1BE0     		b	.L58
 1253              	.L59:
 613:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 614:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* transmit pending  */
 615:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (0x0): state = CAN_TxStatus_Pending;
 1254              		.loc 1 615 0
 1255 00bc 4FF00203 		mov	r3, #2
 1256 00c0 FB60     		str	r3, [r7, #12]
 616:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1257              		.loc 1 616 0
 1258 00c2 1BE0     		b	.L67
 1259              	.L60:
 617:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* transmit failed  */
 618:../StdPeripheralDriver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP0 | CAN_TSR_TME0): state = CAN_TxStatus_Failed;
 1260              		.loc 1 618 0
 1261 00c4 4FF00003 		mov	r3, #0
 1262 00c8 FB60     		str	r3, [r7, #12]
 619:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1263              		.loc 1 619 0
 1264 00ca 17E0     		b	.L67
 1265              	.L62:
 620:../StdPeripheralDriver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP1 | CAN_TSR_TME1): state = CAN_TxStatus_Failed;
 1266              		.loc 1 620 0
 1267 00cc 4FF00003 		mov	r3, #0
 1268 00d0 FB60     		str	r3, [r7, #12]
 621:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1269              		.loc 1 621 0
 1270 00d2 13E0     		b	.L67
 1271              	.L64:
 622:../StdPeripheralDriver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP2 | CAN_TSR_TME2): state = CAN_TxStatus_Failed;
 1272              		.loc 1 622 0
 1273 00d4 4FF00003 		mov	r3, #0
 1274 00d8 FB60     		str	r3, [r7, #12]
 623:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1275              		.loc 1 623 0
 1276 00da 0FE0     		b	.L67
 1277              	.L61:
 624:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* transmit succeeded  */
 625:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0):state = CAN_TxStatus_Ok;
 1278              		.loc 1 625 0
 1279 00dc 4FF00103 		mov	r3, #1
 1280 00e0 FB60     		str	r3, [r7, #12]
 626:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1281              		.loc 1 626 0
 1282 00e2 0BE0     		b	.L67
 1283              	.L63:
 627:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1):state = CAN_TxStatus_Ok;
 1284              		.loc 1 627 0
 1285 00e4 4FF00103 		mov	r3, #1
 1286 00e8 FB60     		str	r3, [r7, #12]
 628:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1287              		.loc 1 628 0
 1288 00ea 07E0     		b	.L67
 1289              	.L65:
 629:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2):state = CAN_TxStatus_Ok;
 1290              		.loc 1 629 0
 1291 00ec 4FF00103 		mov	r3, #1
 1292 00f0 FB60     		str	r3, [r7, #12]
 630:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1293              		.loc 1 630 0
 1294 00f2 03E0     		b	.L67
 1295              	.L58:
 631:../StdPeripheralDriver/src/stm32f10x_can.c ****     default: state = CAN_TxStatus_Failed;
 1296              		.loc 1 631 0
 1297 00f4 4FF00003 		mov	r3, #0
 1298 00f8 FB60     		str	r3, [r7, #12]
 632:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1299              		.loc 1 632 0
 1300 00fa 00BF     		nop
 1301              	.L67:
 633:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 634:../StdPeripheralDriver/src/stm32f10x_can.c ****   return (uint8_t) state;
 1302              		.loc 1 634 0
 1303 00fc FB68     		ldr	r3, [r7, #12]
 1304 00fe DBB2     		uxtb	r3, r3
 635:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1305              		.loc 1 635 0
 1306 0100 1846     		mov	r0, r3
 1307 0102 07F11407 		add	r7, r7, #20
 1308 0106 BD46     		mov	sp, r7
 1309 0108 80BC     		pop	{r7}
 1310 010a 7047     		bx	lr
 1311              		.cfi_endproc
 1312              	.LFE37:
 1314              		.section	.text.CAN_CancelTransmit,"ax",%progbits
 1315              		.align	2
 1316              		.global	CAN_CancelTransmit
 1317              		.thumb
 1318              		.thumb_func
 1320              	CAN_CancelTransmit:
 1321              	.LFB38:
 636:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 637:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 638:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Cancels a transmit request.
 639:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral. 
 640:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  Mailbox:  Mailbox number.
 641:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 642:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 643:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_CancelTransmit(CAN_TypeDef* CANx, uint8_t Mailbox)
 644:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1322              		.loc 1 644 0
 1323              		.cfi_startproc
 1324              		@ args = 0, pretend = 0, frame = 8
 1325              		@ frame_needed = 1, uses_anonymous_args = 0
 1326              		@ link register save eliminated.
 1327 0000 80B4     		push	{r7}
 1328              	.LCFI27:
 1329              		.cfi_def_cfa_offset 4
 1330              		.cfi_offset 7, -4
 1331 0002 83B0     		sub	sp, sp, #12
 1332              	.LCFI28:
 1333              		.cfi_def_cfa_offset 16
 1334 0004 00AF     		add	r7, sp, #0
 1335              	.LCFI29:
 1336              		.cfi_def_cfa_register 7
 1337 0006 7860     		str	r0, [r7, #4]
 1338 0008 0B46     		mov	r3, r1
 1339 000a FB70     		strb	r3, [r7, #3]
 645:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 646:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 647:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(Mailbox));
 648:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* abort transmission */
 649:../StdPeripheralDriver/src/stm32f10x_can.c ****   switch (Mailbox)
 1340              		.loc 1 649 0
 1341 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1342 000e 012B     		cmp	r3, #1
 1343 0010 0AD0     		beq	.L73
 1344 0012 022B     		cmp	r3, #2
 1345 0014 0FD0     		beq	.L74
 1346 0016 002B     		cmp	r3, #0
 1347 0018 14D1     		bne	.L76
 1348              	.L72:
 650:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 651:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): CANx->TSR |= CAN_TSR_ABRQ0;
 1349              		.loc 1 651 0
 1350 001a 7B68     		ldr	r3, [r7, #4]
 1351 001c 9B68     		ldr	r3, [r3, #8]
 1352 001e 43F08002 		orr	r2, r3, #128
 1353 0022 7B68     		ldr	r3, [r7, #4]
 1354 0024 9A60     		str	r2, [r3, #8]
 652:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1355              		.loc 1 652 0
 1356 0026 0EE0     		b	.L70
 1357              	.L73:
 653:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 1358              		.loc 1 653 0
 1359 0028 7B68     		ldr	r3, [r7, #4]
 1360 002a 9B68     		ldr	r3, [r3, #8]
 1361 002c 43F40042 		orr	r2, r3, #32768
 1362 0030 7B68     		ldr	r3, [r7, #4]
 1363 0032 9A60     		str	r2, [r3, #8]
 654:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1364              		.loc 1 654 0
 1365 0034 07E0     		b	.L70
 1366              	.L74:
 655:../StdPeripheralDriver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 1367              		.loc 1 655 0
 1368 0036 7B68     		ldr	r3, [r7, #4]
 1369 0038 9B68     		ldr	r3, [r3, #8]
 1370 003a 43F40002 		orr	r2, r3, #8388608
 1371 003e 7B68     		ldr	r3, [r7, #4]
 1372 0040 9A60     		str	r2, [r3, #8]
 656:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1373              		.loc 1 656 0
 1374 0042 00E0     		b	.L70
 1375              	.L76:
 657:../StdPeripheralDriver/src/stm32f10x_can.c ****     default:
 658:../StdPeripheralDriver/src/stm32f10x_can.c ****       break;
 1376              		.loc 1 658 0
 1377 0044 00BF     		nop
 1378              	.L70:
 659:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 660:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1379              		.loc 1 660 0
 1380 0046 07F10C07 		add	r7, r7, #12
 1381 004a BD46     		mov	sp, r7
 1382 004c 80BC     		pop	{r7}
 1383 004e 7047     		bx	lr
 1384              		.cfi_endproc
 1385              	.LFE38:
 1387              		.section	.text.CAN_Receive,"ax",%progbits
 1388              		.align	2
 1389              		.global	CAN_Receive
 1390              		.thumb
 1391              		.thumb_func
 1393              	CAN_Receive:
 1394              	.LFB39:
 661:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 662:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 663:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 664:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Receives a message.
 665:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 666:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 667:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  RxMessage:  pointer to a structure receive message which contains 
 668:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                     CAN Id, CAN DLC, CAN datas and FMI number.
 669:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 670:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 671:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_Receive(CAN_TypeDef* CANx, uint8_t FIFONumber, CanRxMsg* RxMessage)
 672:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1395              		.loc 1 672 0
 1396              		.cfi_startproc
 1397              		@ args = 0, pretend = 0, frame = 16
 1398              		@ frame_needed = 1, uses_anonymous_args = 0
 1399              		@ link register save eliminated.
 1400 0000 80B4     		push	{r7}
 1401              	.LCFI30:
 1402              		.cfi_def_cfa_offset 4
 1403              		.cfi_offset 7, -4
 1404 0002 85B0     		sub	sp, sp, #20
 1405              	.LCFI31:
 1406              		.cfi_def_cfa_offset 24
 1407 0004 00AF     		add	r7, sp, #0
 1408              	.LCFI32:
 1409              		.cfi_def_cfa_register 7
 1410 0006 F860     		str	r0, [r7, #12]
 1411 0008 0B46     		mov	r3, r1
 1412 000a 7A60     		str	r2, [r7, #4]
 1413 000c FB72     		strb	r3, [r7, #11]
 673:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 674:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 675:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 676:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Get the Id */
 677:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->IDE = (uint8_t)0x04 & CANx->sFIFOMailBox[FIFONumber].RIR;
 1414              		.loc 1 677 0
 1415 000e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1416 0010 FA68     		ldr	r2, [r7, #12]
 1417 0012 03F11B03 		add	r3, r3, #27
 1418 0016 4FEA0313 		lsl	r3, r3, #4
 1419 001a D318     		adds	r3, r2, r3
 1420 001c 1B68     		ldr	r3, [r3, #0]
 1421 001e DBB2     		uxtb	r3, r3
 1422 0020 03F00403 		and	r3, r3, #4
 1423 0024 DAB2     		uxtb	r2, r3
 1424 0026 7B68     		ldr	r3, [r7, #4]
 1425 0028 1A72     		strb	r2, [r3, #8]
 678:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (RxMessage->IDE == CAN_Id_Standard)
 1426              		.loc 1 678 0
 1427 002a 7B68     		ldr	r3, [r7, #4]
 1428 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1429 002e 002B     		cmp	r3, #0
 1430 0030 0CD1     		bne	.L78
 679:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 680:../StdPeripheralDriver/src/stm32f10x_can.c ****     RxMessage->StdId = (uint32_t)0x000007FF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 21);
 1431              		.loc 1 680 0
 1432 0032 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1433 0034 FA68     		ldr	r2, [r7, #12]
 1434 0036 03F11B03 		add	r3, r3, #27
 1435 003a 4FEA0313 		lsl	r3, r3, #4
 1436 003e D318     		adds	r3, r2, r3
 1437 0040 1B68     		ldr	r3, [r3, #0]
 1438 0042 4FEA5352 		lsr	r2, r3, #21
 1439 0046 7B68     		ldr	r3, [r7, #4]
 1440 0048 1A60     		str	r2, [r3, #0]
 1441 004a 0BE0     		b	.L79
 1442              	.L78:
 681:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 682:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
 683:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 684:../StdPeripheralDriver/src/stm32f10x_can.c ****     RxMessage->ExtId = (uint32_t)0x1FFFFFFF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 3);
 1443              		.loc 1 684 0
 1444 004c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1445 004e FA68     		ldr	r2, [r7, #12]
 1446 0050 03F11B03 		add	r3, r3, #27
 1447 0054 4FEA0313 		lsl	r3, r3, #4
 1448 0058 D318     		adds	r3, r2, r3
 1449 005a 1B68     		ldr	r3, [r3, #0]
 1450 005c 4FEAD302 		lsr	r2, r3, #3
 1451 0060 7B68     		ldr	r3, [r7, #4]
 1452 0062 5A60     		str	r2, [r3, #4]
 1453              	.L79:
 685:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 686:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 687:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->RTR = (uint8_t)0x02 & CANx->sFIFOMailBox[FIFONumber].RIR;
 1454              		.loc 1 687 0
 1455 0064 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1456 0066 FA68     		ldr	r2, [r7, #12]
 1457 0068 03F11B03 		add	r3, r3, #27
 1458 006c 4FEA0313 		lsl	r3, r3, #4
 1459 0070 D318     		adds	r3, r2, r3
 1460 0072 1B68     		ldr	r3, [r3, #0]
 1461 0074 DBB2     		uxtb	r3, r3
 1462 0076 03F00203 		and	r3, r3, #2
 1463 007a DAB2     		uxtb	r2, r3
 1464 007c 7B68     		ldr	r3, [r7, #4]
 1465 007e 5A72     		strb	r2, [r3, #9]
 688:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Get the DLC */
 689:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->DLC = (uint8_t)0x0F & CANx->sFIFOMailBox[FIFONumber].RDTR;
 1466              		.loc 1 689 0
 1467 0080 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1468 0082 FA68     		ldr	r2, [r7, #12]
 1469 0084 03F11B03 		add	r3, r3, #27
 1470 0088 4FEA0313 		lsl	r3, r3, #4
 1471 008c D318     		adds	r3, r2, r3
 1472 008e 5B68     		ldr	r3, [r3, #4]
 1473 0090 DBB2     		uxtb	r3, r3
 1474 0092 03F00F03 		and	r3, r3, #15
 1475 0096 DAB2     		uxtb	r2, r3
 1476 0098 7B68     		ldr	r3, [r7, #4]
 1477 009a 9A72     		strb	r2, [r3, #10]
 690:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Get the FMI */
 691:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->FMI = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDTR >> 8);
 1478              		.loc 1 691 0
 1479 009c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1480 009e FA68     		ldr	r2, [r7, #12]
 1481 00a0 03F11B03 		add	r3, r3, #27
 1482 00a4 4FEA0313 		lsl	r3, r3, #4
 1483 00a8 D318     		adds	r3, r2, r3
 1484 00aa 5B68     		ldr	r3, [r3, #4]
 1485 00ac 4FEA1323 		lsr	r3, r3, #8
 1486 00b0 DAB2     		uxtb	r2, r3
 1487 00b2 7B68     		ldr	r3, [r7, #4]
 1488 00b4 DA74     		strb	r2, [r3, #19]
 692:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Get the data field */
 693:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[0] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDLR;
 1489              		.loc 1 693 0
 1490 00b6 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1491 00b8 FA68     		ldr	r2, [r7, #12]
 1492 00ba 4FEA0313 		lsl	r3, r3, #4
 1493 00be D318     		adds	r3, r2, r3
 1494 00c0 03F5DC73 		add	r3, r3, #440
 1495 00c4 1B68     		ldr	r3, [r3, #0]
 1496 00c6 DAB2     		uxtb	r2, r3
 1497 00c8 7B68     		ldr	r3, [r7, #4]
 1498 00ca DA72     		strb	r2, [r3, #11]
 694:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[1] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 8);
 1499              		.loc 1 694 0
 1500 00cc FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1501 00ce FA68     		ldr	r2, [r7, #12]
 1502 00d0 4FEA0313 		lsl	r3, r3, #4
 1503 00d4 D318     		adds	r3, r2, r3
 1504 00d6 03F5DC73 		add	r3, r3, #440
 1505 00da 1B68     		ldr	r3, [r3, #0]
 1506 00dc 4FEA1323 		lsr	r3, r3, #8
 1507 00e0 DAB2     		uxtb	r2, r3
 1508 00e2 7B68     		ldr	r3, [r7, #4]
 1509 00e4 1A73     		strb	r2, [r3, #12]
 695:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[2] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 16);
 1510              		.loc 1 695 0
 1511 00e6 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1512 00e8 FA68     		ldr	r2, [r7, #12]
 1513 00ea 4FEA0313 		lsl	r3, r3, #4
 1514 00ee D318     		adds	r3, r2, r3
 1515 00f0 03F5DC73 		add	r3, r3, #440
 1516 00f4 1B68     		ldr	r3, [r3, #0]
 1517 00f6 4FEA1343 		lsr	r3, r3, #16
 1518 00fa DAB2     		uxtb	r2, r3
 1519 00fc 7B68     		ldr	r3, [r7, #4]
 1520 00fe 5A73     		strb	r2, [r3, #13]
 696:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[3] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 24);
 1521              		.loc 1 696 0
 1522 0100 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1523 0102 FA68     		ldr	r2, [r7, #12]
 1524 0104 4FEA0313 		lsl	r3, r3, #4
 1525 0108 D318     		adds	r3, r2, r3
 1526 010a 03F5DC73 		add	r3, r3, #440
 1527 010e 1B68     		ldr	r3, [r3, #0]
 1528 0110 4FEA1363 		lsr	r3, r3, #24
 1529 0114 DAB2     		uxtb	r2, r3
 1530 0116 7B68     		ldr	r3, [r7, #4]
 1531 0118 9A73     		strb	r2, [r3, #14]
 697:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[4] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDHR;
 1532              		.loc 1 697 0
 1533 011a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1534 011c FA68     		ldr	r2, [r7, #12]
 1535 011e 4FEA0313 		lsl	r3, r3, #4
 1536 0122 D318     		adds	r3, r2, r3
 1537 0124 03F5DC73 		add	r3, r3, #440
 1538 0128 5B68     		ldr	r3, [r3, #4]
 1539 012a DAB2     		uxtb	r2, r3
 1540 012c 7B68     		ldr	r3, [r7, #4]
 1541 012e DA73     		strb	r2, [r3, #15]
 698:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[5] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 8);
 1542              		.loc 1 698 0
 1543 0130 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1544 0132 FA68     		ldr	r2, [r7, #12]
 1545 0134 4FEA0313 		lsl	r3, r3, #4
 1546 0138 D318     		adds	r3, r2, r3
 1547 013a 03F5DC73 		add	r3, r3, #440
 1548 013e 5B68     		ldr	r3, [r3, #4]
 1549 0140 4FEA1323 		lsr	r3, r3, #8
 1550 0144 DAB2     		uxtb	r2, r3
 1551 0146 7B68     		ldr	r3, [r7, #4]
 1552 0148 1A74     		strb	r2, [r3, #16]
 699:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[6] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 16);
 1553              		.loc 1 699 0
 1554 014a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1555 014c FA68     		ldr	r2, [r7, #12]
 1556 014e 4FEA0313 		lsl	r3, r3, #4
 1557 0152 D318     		adds	r3, r2, r3
 1558 0154 03F5DC73 		add	r3, r3, #440
 1559 0158 5B68     		ldr	r3, [r3, #4]
 1560 015a 4FEA1343 		lsr	r3, r3, #16
 1561 015e DAB2     		uxtb	r2, r3
 1562 0160 7B68     		ldr	r3, [r7, #4]
 1563 0162 5A74     		strb	r2, [r3, #17]
 700:../StdPeripheralDriver/src/stm32f10x_can.c ****   RxMessage->Data[7] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 24);
 1564              		.loc 1 700 0
 1565 0164 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1566 0166 FA68     		ldr	r2, [r7, #12]
 1567 0168 4FEA0313 		lsl	r3, r3, #4
 1568 016c D318     		adds	r3, r2, r3
 1569 016e 03F5DC73 		add	r3, r3, #440
 1570 0172 5B68     		ldr	r3, [r3, #4]
 1571 0174 4FEA1363 		lsr	r3, r3, #24
 1572 0178 DAB2     		uxtb	r2, r3
 1573 017a 7B68     		ldr	r3, [r7, #4]
 1574 017c 9A74     		strb	r2, [r3, #18]
 701:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Release the FIFO */
 702:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 703:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1575              		.loc 1 703 0
 1576 017e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1577 0180 002B     		cmp	r3, #0
 1578 0182 06D1     		bne	.L80
 704:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 705:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1579              		.loc 1 705 0
 1580 0184 FB68     		ldr	r3, [r7, #12]
 1581 0186 DB68     		ldr	r3, [r3, #12]
 1582 0188 43F02002 		orr	r2, r3, #32
 1583 018c FB68     		ldr	r3, [r7, #12]
 1584 018e DA60     		str	r2, [r3, #12]
 1585 0190 05E0     		b	.L77
 1586              	.L80:
 706:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 707:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 708:../StdPeripheralDriver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 709:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 710:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 1587              		.loc 1 710 0
 1588 0192 FB68     		ldr	r3, [r7, #12]
 1589 0194 1B69     		ldr	r3, [r3, #16]
 1590 0196 43F02002 		orr	r2, r3, #32
 1591 019a FB68     		ldr	r3, [r7, #12]
 1592 019c 1A61     		str	r2, [r3, #16]
 1593              	.L77:
 711:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 712:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1594              		.loc 1 712 0
 1595 019e 07F11407 		add	r7, r7, #20
 1596 01a2 BD46     		mov	sp, r7
 1597 01a4 80BC     		pop	{r7}
 1598 01a6 7047     		bx	lr
 1599              		.cfi_endproc
 1600              	.LFE39:
 1602              		.section	.text.CAN_FIFORelease,"ax",%progbits
 1603              		.align	2
 1604              		.global	CAN_FIFORelease
 1605              		.thumb
 1606              		.thumb_func
 1608              	CAN_FIFORelease:
 1609              	.LFB40:
 713:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 714:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 715:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Releases the specified FIFO.
 716:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral. 
 717:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  FIFONumber: FIFO to release, CAN_FIFO0 or CAN_FIFO1.
 718:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
 719:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 720:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_FIFORelease(CAN_TypeDef* CANx, uint8_t FIFONumber)
 721:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1610              		.loc 1 721 0
 1611              		.cfi_startproc
 1612              		@ args = 0, pretend = 0, frame = 8
 1613              		@ frame_needed = 1, uses_anonymous_args = 0
 1614              		@ link register save eliminated.
 1615 0000 80B4     		push	{r7}
 1616              	.LCFI33:
 1617              		.cfi_def_cfa_offset 4
 1618              		.cfi_offset 7, -4
 1619 0002 83B0     		sub	sp, sp, #12
 1620              	.LCFI34:
 1621              		.cfi_def_cfa_offset 16
 1622 0004 00AF     		add	r7, sp, #0
 1623              	.LCFI35:
 1624              		.cfi_def_cfa_register 7
 1625 0006 7860     		str	r0, [r7, #4]
 1626 0008 0B46     		mov	r3, r1
 1627 000a FB70     		strb	r3, [r7, #3]
 722:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 723:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 724:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 725:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 726:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1628              		.loc 1 726 0
 1629 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1630 000e 002B     		cmp	r3, #0
 1631 0010 06D1     		bne	.L83
 727:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 728:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 1632              		.loc 1 728 0
 1633 0012 7B68     		ldr	r3, [r7, #4]
 1634 0014 DB68     		ldr	r3, [r3, #12]
 1635 0016 43F02002 		orr	r2, r3, #32
 1636 001a 7B68     		ldr	r3, [r7, #4]
 1637 001c DA60     		str	r2, [r3, #12]
 1638 001e 05E0     		b	.L82
 1639              	.L83:
 729:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 730:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 731:../StdPeripheralDriver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 732:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 733:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 1640              		.loc 1 733 0
 1641 0020 7B68     		ldr	r3, [r7, #4]
 1642 0022 1B69     		ldr	r3, [r3, #16]
 1643 0024 43F02002 		orr	r2, r3, #32
 1644 0028 7B68     		ldr	r3, [r7, #4]
 1645 002a 1A61     		str	r2, [r3, #16]
 1646              	.L82:
 734:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 735:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1647              		.loc 1 735 0
 1648 002c 07F10C07 		add	r7, r7, #12
 1649 0030 BD46     		mov	sp, r7
 1650 0032 80BC     		pop	{r7}
 1651 0034 7047     		bx	lr
 1652              		.cfi_endproc
 1653              	.LFE40:
 1655 0036 00BF     		.section	.text.CAN_MessagePending,"ax",%progbits
 1656              		.align	2
 1657              		.global	CAN_MessagePending
 1658              		.thumb
 1659              		.thumb_func
 1661              	CAN_MessagePending:
 1662              	.LFB41:
 736:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 737:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 738:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Returns the number of pending messages.
 739:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 740:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 741:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval NbMessage : which is the number of pending message.
 742:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 743:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_MessagePending(CAN_TypeDef* CANx, uint8_t FIFONumber)
 744:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1663              		.loc 1 744 0
 1664              		.cfi_startproc
 1665              		@ args = 0, pretend = 0, frame = 16
 1666              		@ frame_needed = 1, uses_anonymous_args = 0
 1667              		@ link register save eliminated.
 1668 0000 80B4     		push	{r7}
 1669              	.LCFI36:
 1670              		.cfi_def_cfa_offset 4
 1671              		.cfi_offset 7, -4
 1672 0002 85B0     		sub	sp, sp, #20
 1673              	.LCFI37:
 1674              		.cfi_def_cfa_offset 24
 1675 0004 00AF     		add	r7, sp, #0
 1676              	.LCFI38:
 1677              		.cfi_def_cfa_register 7
 1678 0006 7860     		str	r0, [r7, #4]
 1679 0008 0B46     		mov	r3, r1
 1680 000a FB70     		strb	r3, [r7, #3]
 745:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t message_pending=0;
 1681              		.loc 1 745 0
 1682 000c 4FF00003 		mov	r3, #0
 1683 0010 FB73     		strb	r3, [r7, #15]
 746:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 747:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 748:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 749:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 1684              		.loc 1 749 0
 1685 0012 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1686 0014 002B     		cmp	r3, #0
 1687 0016 06D1     		bne	.L86
 750:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 751:../StdPeripheralDriver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF0R&(uint32_t)0x03);
 1688              		.loc 1 751 0
 1689 0018 7B68     		ldr	r3, [r7, #4]
 1690 001a DB68     		ldr	r3, [r3, #12]
 1691 001c DBB2     		uxtb	r3, r3
 1692 001e 03F00303 		and	r3, r3, #3
 1693 0022 FB73     		strb	r3, [r7, #15]
 1694 0024 0CE0     		b	.L87
 1695              	.L86:
 752:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 753:../StdPeripheralDriver/src/stm32f10x_can.c ****   else if (FIFONumber == CAN_FIFO1)
 1696              		.loc 1 753 0
 1697 0026 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1698 0028 012B     		cmp	r3, #1
 1699 002a 06D1     		bne	.L88
 754:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 755:../StdPeripheralDriver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF1R&(uint32_t)0x03);
 1700              		.loc 1 755 0
 1701 002c 7B68     		ldr	r3, [r7, #4]
 1702 002e 1B69     		ldr	r3, [r3, #16]
 1703 0030 DBB2     		uxtb	r3, r3
 1704 0032 03F00303 		and	r3, r3, #3
 1705 0036 FB73     		strb	r3, [r7, #15]
 1706 0038 02E0     		b	.L87
 1707              	.L88:
 756:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 757:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
 758:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 759:../StdPeripheralDriver/src/stm32f10x_can.c ****     message_pending = 0;
 1708              		.loc 1 759 0
 1709 003a 4FF00003 		mov	r3, #0
 1710 003e FB73     		strb	r3, [r7, #15]
 1711              	.L87:
 760:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 761:../StdPeripheralDriver/src/stm32f10x_can.c ****   return message_pending;
 1712              		.loc 1 761 0
 1713 0040 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 762:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1714              		.loc 1 762 0
 1715 0042 1846     		mov	r0, r3
 1716 0044 07F11407 		add	r7, r7, #20
 1717 0048 BD46     		mov	sp, r7
 1718 004a 80BC     		pop	{r7}
 1719 004c 7047     		bx	lr
 1720              		.cfi_endproc
 1721              	.LFE41:
 1723 004e 00BF     		.section	.text.CAN_OperatingModeRequest,"ax",%progbits
 1724              		.align	2
 1725              		.global	CAN_OperatingModeRequest
 1726              		.thumb
 1727              		.thumb_func
 1729              	CAN_OperatingModeRequest:
 1730              	.LFB42:
 763:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 764:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 765:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 766:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief   Select the CAN Operation mode.
 767:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param CAN_OperatingMode : CAN Operating Mode. This parameter can be one 
 768:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                            of @ref CAN_OperatingMode_TypeDef enumeration.
 769:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval status of the requested mode which can be 
 770:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Failed    CAN failed entering the specific mode 
 771:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Success   CAN Succeed entering the specific mode 
 772:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 773:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 774:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_OperatingModeRequest(CAN_TypeDef* CANx, uint8_t CAN_OperatingMode)
 775:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1731              		.loc 1 775 0
 1732              		.cfi_startproc
 1733              		@ args = 0, pretend = 0, frame = 16
 1734              		@ frame_needed = 1, uses_anonymous_args = 0
 1735              		@ link register save eliminated.
 1736 0000 80B4     		push	{r7}
 1737              	.LCFI39:
 1738              		.cfi_def_cfa_offset 4
 1739              		.cfi_offset 7, -4
 1740 0002 85B0     		sub	sp, sp, #20
 1741              	.LCFI40:
 1742              		.cfi_def_cfa_offset 24
 1743 0004 00AF     		add	r7, sp, #0
 1744              	.LCFI41:
 1745              		.cfi_def_cfa_register 7
 1746 0006 7860     		str	r0, [r7, #4]
 1747 0008 0B46     		mov	r3, r1
 1748 000a FB70     		strb	r3, [r7, #3]
 776:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t status = CAN_ModeStatus_Failed;
 1749              		.loc 1 776 0
 1750 000c 4FF00003 		mov	r3, #0
 1751 0010 FB73     		strb	r3, [r7, #15]
 777:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 778:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Timeout for INAK or also for SLAK bits*/
 779:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint32_t timeout = INAK_TIMEOUT; 
 1752              		.loc 1 779 0
 1753 0012 4FF6FF73 		movw	r3, #65535
 1754 0016 BB60     		str	r3, [r7, #8]
 780:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 781:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 782:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 783:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_OPERATING_MODE(CAN_OperatingMode));
 784:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 785:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_OperatingMode == CAN_OperatingMode_Initialization)
 1755              		.loc 1 785 0
 1756 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1757 001a 002B     		cmp	r3, #0
 1758 001c 23D1     		bne	.L91
 786:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 787:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Request initialisation */
 788:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_SLEEP)) | CAN_MCR_INRQ);
 1759              		.loc 1 788 0
 1760 001e 7B68     		ldr	r3, [r7, #4]
 1761 0020 1B68     		ldr	r3, [r3, #0]
 1762 0022 23F00303 		bic	r3, r3, #3
 1763 0026 43F00102 		orr	r2, r3, #1
 1764 002a 7B68     		ldr	r3, [r7, #4]
 1765 002c 1A60     		str	r2, [r3, #0]
 789:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 790:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 791:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK) && (timeout != 0))
 1766              		.loc 1 791 0
 1767 002e 03E0     		b	.L92
 1768              	.L94:
 792:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 793:../StdPeripheralDriver/src/stm32f10x_can.c ****       timeout--;
 1769              		.loc 1 793 0
 1770 0030 BB68     		ldr	r3, [r7, #8]
 1771 0032 03F1FF33 		add	r3, r3, #-1
 1772 0036 BB60     		str	r3, [r7, #8]
 1773              	.L92:
 791:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK) && (timeout != 0))
 1774              		.loc 1 791 0 discriminator 1
 1775 0038 7B68     		ldr	r3, [r7, #4]
 1776 003a 5B68     		ldr	r3, [r3, #4]
 1777 003c 03F00303 		and	r3, r3, #3
 1778 0040 012B     		cmp	r3, #1
 1779 0042 02D0     		beq	.L93
 791:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK) && (timeout != 0))
 1780              		.loc 1 791 0 is_stmt 0 discriminator 2
 1781 0044 BB68     		ldr	r3, [r7, #8]
 1782 0046 002B     		cmp	r3, #0
 1783 0048 F2D1     		bne	.L94
 1784              	.L93:
 794:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 795:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK)
 1785              		.loc 1 795 0 is_stmt 1
 1786 004a 7B68     		ldr	r3, [r7, #4]
 1787 004c 5B68     		ldr	r3, [r3, #4]
 1788 004e 03F00303 		and	r3, r3, #3
 1789 0052 012B     		cmp	r3, #1
 1790 0054 03D0     		beq	.L95
 796:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 797:../StdPeripheralDriver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 1791              		.loc 1 797 0
 1792 0056 4FF00003 		mov	r3, #0
 1793 005a FB73     		strb	r3, [r7, #15]
 1794 005c 52E0     		b	.L96
 1795              	.L95:
 798:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 799:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 800:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 801:../StdPeripheralDriver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 1796              		.loc 1 801 0
 1797 005e 4FF00103 		mov	r3, #1
 1798 0062 FB73     		strb	r3, [r7, #15]
 1799 0064 4EE0     		b	.L96
 1800              	.L91:
 802:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 803:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 804:../StdPeripheralDriver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Normal)
 1801              		.loc 1 804 0
 1802 0066 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1803 0068 012B     		cmp	r3, #1
 1804 006a 21D1     		bne	.L97
 805:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 806:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Request leave initialisation and sleep mode  and enter Normal mode */
 807:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(CAN_MCR_SLEEP|CAN_MCR_INRQ));
 1805              		.loc 1 807 0
 1806 006c 7B68     		ldr	r3, [r7, #4]
 1807 006e 1B68     		ldr	r3, [r3, #0]
 1808 0070 23F00302 		bic	r2, r3, #3
 1809 0074 7B68     		ldr	r3, [r7, #4]
 1810 0076 1A60     		str	r2, [r3, #0]
 808:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 809:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 810:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != 0) && (timeout!=0))
 1811              		.loc 1 810 0
 1812 0078 03E0     		b	.L98
 1813              	.L100:
 811:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 812:../StdPeripheralDriver/src/stm32f10x_can.c ****       timeout--;
 1814              		.loc 1 812 0
 1815 007a BB68     		ldr	r3, [r7, #8]
 1816 007c 03F1FF33 		add	r3, r3, #-1
 1817 0080 BB60     		str	r3, [r7, #8]
 1818              	.L98:
 810:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != 0) && (timeout!=0))
 1819              		.loc 1 810 0 discriminator 1
 1820 0082 7B68     		ldr	r3, [r7, #4]
 1821 0084 5B68     		ldr	r3, [r3, #4]
 1822 0086 03F00303 		and	r3, r3, #3
 1823 008a 002B     		cmp	r3, #0
 1824 008c 02D0     		beq	.L99
 810:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != 0) && (timeout!=0))
 1825              		.loc 1 810 0 is_stmt 0 discriminator 2
 1826 008e BB68     		ldr	r3, [r7, #8]
 1827 0090 002B     		cmp	r3, #0
 1828 0092 F2D1     		bne	.L100
 1829              	.L99:
 813:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 814:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != 0)
 1830              		.loc 1 814 0 is_stmt 1
 1831 0094 7B68     		ldr	r3, [r7, #4]
 1832 0096 5B68     		ldr	r3, [r3, #4]
 1833 0098 03F00303 		and	r3, r3, #3
 1834 009c 002B     		cmp	r3, #0
 1835 009e 03D0     		beq	.L101
 815:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 816:../StdPeripheralDriver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 1836              		.loc 1 816 0
 1837 00a0 4FF00003 		mov	r3, #0
 1838 00a4 FB73     		strb	r3, [r7, #15]
 1839 00a6 2DE0     		b	.L96
 1840              	.L101:
 817:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 818:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 819:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 820:../StdPeripheralDriver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 1841              		.loc 1 820 0
 1842 00a8 4FF00103 		mov	r3, #1
 1843 00ac FB73     		strb	r3, [r7, #15]
 1844 00ae 29E0     		b	.L96
 1845              	.L97:
 821:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 822:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 823:../StdPeripheralDriver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Sleep)
 1846              		.loc 1 823 0
 1847 00b0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1848 00b2 022B     		cmp	r3, #2
 1849 00b4 23D1     		bne	.L102
 824:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 825:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Request Sleep mode */
 826:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 1850              		.loc 1 826 0
 1851 00b6 7B68     		ldr	r3, [r7, #4]
 1852 00b8 1B68     		ldr	r3, [r3, #0]
 1853 00ba 23F00303 		bic	r3, r3, #3
 1854 00be 43F00202 		orr	r2, r3, #2
 1855 00c2 7B68     		ldr	r3, [r7, #4]
 1856 00c4 1A60     		str	r2, [r3, #0]
 827:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 828:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 829:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK) && (timeout!=0))
 1857              		.loc 1 829 0
 1858 00c6 03E0     		b	.L103
 1859              	.L105:
 830:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 831:../StdPeripheralDriver/src/stm32f10x_can.c ****       timeout--;
 1860              		.loc 1 831 0
 1861 00c8 BB68     		ldr	r3, [r7, #8]
 1862 00ca 03F1FF33 		add	r3, r3, #-1
 1863 00ce BB60     		str	r3, [r7, #8]
 1864              	.L103:
 829:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK) && (timeout!=0))
 1865              		.loc 1 829 0 discriminator 1
 1866 00d0 7B68     		ldr	r3, [r7, #4]
 1867 00d2 5B68     		ldr	r3, [r3, #4]
 1868 00d4 03F00303 		and	r3, r3, #3
 1869 00d8 022B     		cmp	r3, #2
 1870 00da 02D0     		beq	.L104
 829:../StdPeripheralDriver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK) && (timeout!=0))
 1871              		.loc 1 829 0 is_stmt 0 discriminator 2
 1872 00dc BB68     		ldr	r3, [r7, #8]
 1873 00de 002B     		cmp	r3, #0
 1874 00e0 F2D1     		bne	.L105
 1875              	.L104:
 832:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 833:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK)
 1876              		.loc 1 833 0 is_stmt 1
 1877 00e2 7B68     		ldr	r3, [r7, #4]
 1878 00e4 5B68     		ldr	r3, [r3, #4]
 1879 00e6 03F00303 		and	r3, r3, #3
 1880 00ea 022B     		cmp	r3, #2
 1881 00ec 03D0     		beq	.L106
 834:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 835:../StdPeripheralDriver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 1882              		.loc 1 835 0
 1883 00ee 4FF00003 		mov	r3, #0
 1884 00f2 FB73     		strb	r3, [r7, #15]
 1885 00f4 06E0     		b	.L96
 1886              	.L106:
 836:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 837:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
 838:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
 839:../StdPeripheralDriver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 1887              		.loc 1 839 0
 1888 00f6 4FF00103 		mov	r3, #1
 1889 00fa FB73     		strb	r3, [r7, #15]
 1890 00fc 02E0     		b	.L96
 1891              	.L102:
 840:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
 841:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 842:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
 843:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 844:../StdPeripheralDriver/src/stm32f10x_can.c ****     status = CAN_ModeStatus_Failed;
 1892              		.loc 1 844 0
 1893 00fe 4FF00003 		mov	r3, #0
 1894 0102 FB73     		strb	r3, [r7, #15]
 1895              	.L96:
 845:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 846:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 847:../StdPeripheralDriver/src/stm32f10x_can.c ****   return  (uint8_t) status;
 1896              		.loc 1 847 0
 1897 0104 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 848:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1898              		.loc 1 848 0
 1899 0106 1846     		mov	r0, r3
 1900 0108 07F11407 		add	r7, r7, #20
 1901 010c BD46     		mov	sp, r7
 1902 010e 80BC     		pop	{r7}
 1903 0110 7047     		bx	lr
 1904              		.cfi_endproc
 1905              	.LFE42:
 1907 0112 00BF     		.section	.text.CAN_Sleep,"ax",%progbits
 1908              		.align	2
 1909              		.global	CAN_Sleep
 1910              		.thumb
 1911              		.thumb_func
 1913              	CAN_Sleep:
 1914              	.LFB43:
 849:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 850:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 851:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Enters the low power mode.
 852:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 853:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval status: CAN_Sleep_Ok if sleep entered, CAN_Sleep_Failed in an 
 854:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 other case.
 855:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 856:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_Sleep(CAN_TypeDef* CANx)
 857:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1915              		.loc 1 857 0
 1916              		.cfi_startproc
 1917              		@ args = 0, pretend = 0, frame = 16
 1918              		@ frame_needed = 1, uses_anonymous_args = 0
 1919              		@ link register save eliminated.
 1920 0000 80B4     		push	{r7}
 1921              	.LCFI42:
 1922              		.cfi_def_cfa_offset 4
 1923              		.cfi_offset 7, -4
 1924 0002 85B0     		sub	sp, sp, #20
 1925              	.LCFI43:
 1926              		.cfi_def_cfa_offset 24
 1927 0004 00AF     		add	r7, sp, #0
 1928              	.LCFI44:
 1929              		.cfi_def_cfa_register 7
 1930 0006 7860     		str	r0, [r7, #4]
 858:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t sleepstatus = CAN_Sleep_Failed;
 1931              		.loc 1 858 0
 1932 0008 4FF00003 		mov	r3, #0
 1933 000c FB73     		strb	r3, [r7, #15]
 859:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 860:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 861:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 862:../StdPeripheralDriver/src/stm32f10x_can.c ****     
 863:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Request Sleep mode */
 864:../StdPeripheralDriver/src/stm32f10x_can.c ****    CANx->MCR = (((CANx->MCR) & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 1934              		.loc 1 864 0
 1935 000e 7B68     		ldr	r3, [r7, #4]
 1936 0010 1B68     		ldr	r3, [r3, #0]
 1937 0012 23F00303 		bic	r3, r3, #3
 1938 0016 43F00202 		orr	r2, r3, #2
 1939 001a 7B68     		ldr	r3, [r7, #4]
 1940 001c 1A60     		str	r2, [r3, #0]
 865:../StdPeripheralDriver/src/stm32f10x_can.c ****    
 866:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Sleep mode status */
 867:../StdPeripheralDriver/src/stm32f10x_can.c ****   if ((CANx->MSR & (CAN_MSR_SLAK|CAN_MSR_INAK)) == CAN_MSR_SLAK)
 1941              		.loc 1 867 0
 1942 001e 7B68     		ldr	r3, [r7, #4]
 1943 0020 5B68     		ldr	r3, [r3, #4]
 1944 0022 03F00303 		and	r3, r3, #3
 1945 0026 022B     		cmp	r3, #2
 1946 0028 02D1     		bne	.L109
 868:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 869:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Sleep mode not entered */
 870:../StdPeripheralDriver/src/stm32f10x_can.c ****     sleepstatus =  CAN_Sleep_Ok;
 1947              		.loc 1 870 0
 1948 002a 4FF00103 		mov	r3, #1
 1949 002e FB73     		strb	r3, [r7, #15]
 1950              	.L109:
 871:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 872:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* return sleep mode status */
 873:../StdPeripheralDriver/src/stm32f10x_can.c ****    return (uint8_t)sleepstatus;
 1951              		.loc 1 873 0
 1952 0030 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 874:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 1953              		.loc 1 874 0
 1954 0032 1846     		mov	r0, r3
 1955 0034 07F11407 		add	r7, r7, #20
 1956 0038 BD46     		mov	sp, r7
 1957 003a 80BC     		pop	{r7}
 1958 003c 7047     		bx	lr
 1959              		.cfi_endproc
 1960              	.LFE43:
 1962 003e 00BF     		.section	.text.CAN_WakeUp,"ax",%progbits
 1963              		.align	2
 1964              		.global	CAN_WakeUp
 1965              		.thumb
 1966              		.thumb_func
 1968              	CAN_WakeUp:
 1969              	.LFB44:
 875:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 876:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 877:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Wakes the CAN up.
 878:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
 879:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval status:  CAN_WakeUp_Ok if sleep mode left, CAN_WakeUp_Failed in an 
 880:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  other case.
 881:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 882:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_WakeUp(CAN_TypeDef* CANx)
 883:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 1970              		.loc 1 883 0
 1971              		.cfi_startproc
 1972              		@ args = 0, pretend = 0, frame = 16
 1973              		@ frame_needed = 1, uses_anonymous_args = 0
 1974              		@ link register save eliminated.
 1975 0000 80B4     		push	{r7}
 1976              	.LCFI45:
 1977              		.cfi_def_cfa_offset 4
 1978              		.cfi_offset 7, -4
 1979 0002 85B0     		sub	sp, sp, #20
 1980              	.LCFI46:
 1981              		.cfi_def_cfa_offset 24
 1982 0004 00AF     		add	r7, sp, #0
 1983              	.LCFI47:
 1984              		.cfi_def_cfa_register 7
 1985 0006 7860     		str	r0, [r7, #4]
 884:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint32_t wait_slak = SLAK_TIMEOUT;
 1986              		.loc 1 884 0
 1987 0008 4FF6FF73 		movw	r3, #65535
 1988 000c FB60     		str	r3, [r7, #12]
 885:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t wakeupstatus = CAN_WakeUp_Failed;
 1989              		.loc 1 885 0
 1990 000e 4FF00003 		mov	r3, #0
 1991 0012 FB72     		strb	r3, [r7, #11]
 886:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 887:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 888:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 889:../StdPeripheralDriver/src/stm32f10x_can.c ****     
 890:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Wake up request */
 891:../StdPeripheralDriver/src/stm32f10x_can.c ****   CANx->MCR &= ~(uint32_t)CAN_MCR_SLEEP;
 1992              		.loc 1 891 0
 1993 0014 7B68     		ldr	r3, [r7, #4]
 1994 0016 1B68     		ldr	r3, [r3, #0]
 1995 0018 23F00202 		bic	r2, r3, #2
 1996 001c 7B68     		ldr	r3, [r7, #4]
 1997 001e 1A60     		str	r2, [r3, #0]
 892:../StdPeripheralDriver/src/stm32f10x_can.c ****     
 893:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Sleep mode status */
 894:../StdPeripheralDriver/src/stm32f10x_can.c ****   while(((CANx->MSR & CAN_MSR_SLAK) == CAN_MSR_SLAK)&&(wait_slak!=0x00))
 1998              		.loc 1 894 0
 1999 0020 03E0     		b	.L112
 2000              	.L114:
 895:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 896:../StdPeripheralDriver/src/stm32f10x_can.c ****    wait_slak--;
 2001              		.loc 1 896 0
 2002 0022 FB68     		ldr	r3, [r7, #12]
 2003 0024 03F1FF33 		add	r3, r3, #-1
 2004 0028 FB60     		str	r3, [r7, #12]
 2005              	.L112:
 894:../StdPeripheralDriver/src/stm32f10x_can.c ****   while(((CANx->MSR & CAN_MSR_SLAK) == CAN_MSR_SLAK)&&(wait_slak!=0x00))
 2006              		.loc 1 894 0 discriminator 1
 2007 002a 7B68     		ldr	r3, [r7, #4]
 2008 002c 5B68     		ldr	r3, [r3, #4]
 2009 002e 03F00203 		and	r3, r3, #2
 2010 0032 002B     		cmp	r3, #0
 2011 0034 02D0     		beq	.L113
 894:../StdPeripheralDriver/src/stm32f10x_can.c ****   while(((CANx->MSR & CAN_MSR_SLAK) == CAN_MSR_SLAK)&&(wait_slak!=0x00))
 2012              		.loc 1 894 0 is_stmt 0 discriminator 2
 2013 0036 FB68     		ldr	r3, [r7, #12]
 2014 0038 002B     		cmp	r3, #0
 2015 003a F2D1     		bne	.L114
 2016              	.L113:
 897:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 898:../StdPeripheralDriver/src/stm32f10x_can.c ****   if((CANx->MSR & CAN_MSR_SLAK) != CAN_MSR_SLAK)
 2017              		.loc 1 898 0 is_stmt 1
 2018 003c 7B68     		ldr	r3, [r7, #4]
 2019 003e 5B68     		ldr	r3, [r3, #4]
 2020 0040 03F00203 		and	r3, r3, #2
 2021 0044 002B     		cmp	r3, #0
 2022 0046 02D1     		bne	.L115
 899:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
 900:../StdPeripheralDriver/src/stm32f10x_can.c ****    /* wake up done : Sleep mode exited */
 901:../StdPeripheralDriver/src/stm32f10x_can.c ****     wakeupstatus = CAN_WakeUp_Ok;
 2023              		.loc 1 901 0
 2024 0048 4FF00103 		mov	r3, #1
 2025 004c FB72     		strb	r3, [r7, #11]
 2026              	.L115:
 902:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
 903:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* return wakeup status */
 904:../StdPeripheralDriver/src/stm32f10x_can.c ****   return (uint8_t)wakeupstatus;
 2027              		.loc 1 904 0
 2028 004e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 905:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2029              		.loc 1 905 0
 2030 0050 1846     		mov	r0, r3
 2031 0052 07F11407 		add	r7, r7, #20
 2032 0056 BD46     		mov	sp, r7
 2033 0058 80BC     		pop	{r7}
 2034 005a 7047     		bx	lr
 2035              		.cfi_endproc
 2036              	.LFE44:
 2038              		.section	.text.CAN_GetLastErrorCode,"ax",%progbits
 2039              		.align	2
 2040              		.global	CAN_GetLastErrorCode
 2041              		.thumb
 2042              		.thumb_func
 2044              	CAN_GetLastErrorCode:
 2045              	.LFB45:
 906:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 907:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 908:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 909:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Returns the CANx's last error code (LEC).
 910:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:          where x can be 1 or 2 to to select the CAN peripheral.  
 911:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval CAN_ErrorCode: specifies the Error code : 
 912:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_NoErr            No Error  
 913:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_StuffErr         Stuff Error
 914:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_FormErr          Form Error
 915:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_ACKErr           Acknowledgment Error
 916:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitRecessiveErr  Bit Recessive Error
 917:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitDominantErr   Bit Dominant Error
 918:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_CRCErr           CRC Error
 919:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_SoftwareSetErr   Software Set Error  
 920:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 921:../StdPeripheralDriver/src/stm32f10x_can.c ****  
 922:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_GetLastErrorCode(CAN_TypeDef* CANx)
 923:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2046              		.loc 1 923 0
 2047              		.cfi_startproc
 2048              		@ args = 0, pretend = 0, frame = 16
 2049              		@ frame_needed = 1, uses_anonymous_args = 0
 2050              		@ link register save eliminated.
 2051 0000 80B4     		push	{r7}
 2052              	.LCFI48:
 2053              		.cfi_def_cfa_offset 4
 2054              		.cfi_offset 7, -4
 2055 0002 85B0     		sub	sp, sp, #20
 2056              	.LCFI49:
 2057              		.cfi_def_cfa_offset 24
 2058 0004 00AF     		add	r7, sp, #0
 2059              	.LCFI50:
 2060              		.cfi_def_cfa_register 7
 2061 0006 7860     		str	r0, [r7, #4]
 924:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t errorcode=0;
 2062              		.loc 1 924 0
 2063 0008 4FF00003 		mov	r3, #0
 2064 000c FB73     		strb	r3, [r7, #15]
 925:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 926:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 927:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 928:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 929:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Get the error code*/
 930:../StdPeripheralDriver/src/stm32f10x_can.c ****   errorcode = (((uint8_t)CANx->ESR) & (uint8_t)CAN_ESR_LEC);
 2065              		.loc 1 930 0
 2066 000e 7B68     		ldr	r3, [r7, #4]
 2067 0010 9B69     		ldr	r3, [r3, #24]
 2068 0012 DBB2     		uxtb	r3, r3
 2069 0014 03F07003 		and	r3, r3, #112
 2070 0018 FB73     		strb	r3, [r7, #15]
 931:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 932:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Return the error code*/
 933:../StdPeripheralDriver/src/stm32f10x_can.c ****   return errorcode;
 2071              		.loc 1 933 0
 2072 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 934:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2073              		.loc 1 934 0
 2074 001c 1846     		mov	r0, r3
 2075 001e 07F11407 		add	r7, r7, #20
 2076 0022 BD46     		mov	sp, r7
 2077 0024 80BC     		pop	{r7}
 2078 0026 7047     		bx	lr
 2079              		.cfi_endproc
 2080              	.LFE45:
 2082              		.section	.text.CAN_GetReceiveErrorCounter,"ax",%progbits
 2083              		.align	2
 2084              		.global	CAN_GetReceiveErrorCounter
 2085              		.thumb
 2086              		.thumb_func
 2088              	CAN_GetReceiveErrorCounter:
 2089              	.LFB46:
 935:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 936:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Returns the CANx Receive Error Counter (REC).
 937:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @note   In case of an error during reception, this counter is incremented 
 938:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         by 1 or by 8 depending on the error condition as defined by the CAN 
 939:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         standard. After every successful reception, the counter is 
 940:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         decremented by 1 or reset to 120 if its value was higher than 128. 
 941:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         When the counter value exceeds 127, the CAN controller enters the 
 942:../StdPeripheralDriver/src/stm32f10x_can.c ****   *         error passive state.  
 943:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to to select the CAN peripheral.  
 944:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval CAN Receive Error Counter. 
 945:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 946:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_GetReceiveErrorCounter(CAN_TypeDef* CANx)
 947:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2090              		.loc 1 947 0
 2091              		.cfi_startproc
 2092              		@ args = 0, pretend = 0, frame = 16
 2093              		@ frame_needed = 1, uses_anonymous_args = 0
 2094              		@ link register save eliminated.
 2095 0000 80B4     		push	{r7}
 2096              	.LCFI51:
 2097              		.cfi_def_cfa_offset 4
 2098              		.cfi_offset 7, -4
 2099 0002 85B0     		sub	sp, sp, #20
 2100              	.LCFI52:
 2101              		.cfi_def_cfa_offset 24
 2102 0004 00AF     		add	r7, sp, #0
 2103              	.LCFI53:
 2104              		.cfi_def_cfa_register 7
 2105 0006 7860     		str	r0, [r7, #4]
 948:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t counter=0;
 2106              		.loc 1 948 0
 2107 0008 4FF00003 		mov	r3, #0
 2108 000c FB73     		strb	r3, [r7, #15]
 949:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 950:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 951:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 952:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 953:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Get the Receive Error Counter*/
 954:../StdPeripheralDriver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_REC)>> 24);
 2109              		.loc 1 954 0
 2110 000e 7B68     		ldr	r3, [r7, #4]
 2111 0010 9B69     		ldr	r3, [r3, #24]
 2112 0012 4FEA1363 		lsr	r3, r3, #24
 2113 0016 FB73     		strb	r3, [r7, #15]
 955:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 956:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Return the Receive Error Counter*/
 957:../StdPeripheralDriver/src/stm32f10x_can.c ****   return counter;
 2114              		.loc 1 957 0
 2115 0018 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 958:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2116              		.loc 1 958 0
 2117 001a 1846     		mov	r0, r3
 2118 001c 07F11407 		add	r7, r7, #20
 2119 0020 BD46     		mov	sp, r7
 2120 0022 80BC     		pop	{r7}
 2121 0024 7047     		bx	lr
 2122              		.cfi_endproc
 2123              	.LFE46:
 2125 0026 00BF     		.section	.text.CAN_GetLSBTransmitErrorCounter,"ax",%progbits
 2126              		.align	2
 2127              		.global	CAN_GetLSBTransmitErrorCounter
 2128              		.thumb
 2129              		.thumb_func
 2131              	CAN_GetLSBTransmitErrorCounter:
 2132              	.LFB47:
 959:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 960:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 961:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 962:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Returns the LSB of the 9-bit CANx Transmit Error Counter(TEC).
 963:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.  
 964:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval LSB of the 9-bit CAN Transmit Error Counter. 
 965:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
 966:../StdPeripheralDriver/src/stm32f10x_can.c **** uint8_t CAN_GetLSBTransmitErrorCounter(CAN_TypeDef* CANx)
 967:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2133              		.loc 1 967 0
 2134              		.cfi_startproc
 2135              		@ args = 0, pretend = 0, frame = 16
 2136              		@ frame_needed = 1, uses_anonymous_args = 0
 2137              		@ link register save eliminated.
 2138 0000 80B4     		push	{r7}
 2139              	.LCFI54:
 2140              		.cfi_def_cfa_offset 4
 2141              		.cfi_offset 7, -4
 2142 0002 85B0     		sub	sp, sp, #20
 2143              	.LCFI55:
 2144              		.cfi_def_cfa_offset 24
 2145 0004 00AF     		add	r7, sp, #0
 2146              	.LCFI56:
 2147              		.cfi_def_cfa_register 7
 2148 0006 7860     		str	r0, [r7, #4]
 968:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint8_t counter=0;
 2149              		.loc 1 968 0
 2150 0008 4FF00003 		mov	r3, #0
 2151 000c FB73     		strb	r3, [r7, #15]
 969:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 970:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
 971:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 972:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 973:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Get the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 974:../StdPeripheralDriver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_TEC)>> 16);
 2152              		.loc 1 974 0
 2153 000e 7B68     		ldr	r3, [r7, #4]
 2154 0010 9B69     		ldr	r3, [r3, #24]
 2155 0012 03F47F03 		and	r3, r3, #16711680
 2156 0016 4FEA1343 		lsr	r3, r3, #16
 2157 001a FB73     		strb	r3, [r7, #15]
 975:../StdPeripheralDriver/src/stm32f10x_can.c ****   
 976:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Return the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 977:../StdPeripheralDriver/src/stm32f10x_can.c ****   return counter;
 2158              		.loc 1 977 0
 2159 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 978:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2160              		.loc 1 978 0
 2161 001e 1846     		mov	r0, r3
 2162 0020 07F11407 		add	r7, r7, #20
 2163 0024 BD46     		mov	sp, r7
 2164 0026 80BC     		pop	{r7}
 2165 0028 7047     		bx	lr
 2166              		.cfi_endproc
 2167              	.LFE47:
 2169 002a 00BF     		.section	.text.CAN_ITConfig,"ax",%progbits
 2170              		.align	2
 2171              		.global	CAN_ITConfig
 2172              		.thumb
 2173              		.thumb_func
 2175              	CAN_ITConfig:
 2176              	.LFB48:
 979:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 980:../StdPeripheralDriver/src/stm32f10x_can.c **** 
 981:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
 982:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Enables or disables the specified CANx interrupts.
 983:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 984:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the CAN interrupt sources to be enabled or disabled.
 985:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 This parameter can be: 
 986:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_TME, 
 987:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP0, 
 988:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF0,
 989:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV0, 
 990:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP1, 
 991:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF1,
 992:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV1, 
 993:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_EWG, 
 994:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_EPV,
 995:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_LEC, 
 996:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_ERR, 
 997:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_WKU or 
 998:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 - CAN_IT_SLK.
 999:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN interrupts.
1000:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                   This parameter can be: ENABLE or DISABLE.
1001:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
1002:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
1003:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_ITConfig(CAN_TypeDef* CANx, uint32_t CAN_IT, FunctionalState NewState)
1004:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2177              		.loc 1 1004 0
 2178              		.cfi_startproc
 2179              		@ args = 0, pretend = 0, frame = 16
 2180              		@ frame_needed = 1, uses_anonymous_args = 0
 2181              		@ link register save eliminated.
 2182 0000 80B4     		push	{r7}
 2183              	.LCFI57:
 2184              		.cfi_def_cfa_offset 4
 2185              		.cfi_offset 7, -4
 2186 0002 85B0     		sub	sp, sp, #20
 2187              	.LCFI58:
 2188              		.cfi_def_cfa_offset 24
 2189 0004 00AF     		add	r7, sp, #0
 2190              	.LCFI59:
 2191              		.cfi_def_cfa_register 7
 2192 0006 F860     		str	r0, [r7, #12]
 2193 0008 B960     		str	r1, [r7, #8]
 2194 000a 1346     		mov	r3, r2
 2195 000c FB71     		strb	r3, [r7, #7]
1005:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
1006:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1007:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1008:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1009:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1010:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 2196              		.loc 1 1010 0
 2197 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2198 0010 002B     		cmp	r3, #0
 2199 0012 06D0     		beq	.L124
1011:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1012:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Enable the selected CANx interrupt */
1013:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->IER |= CAN_IT;
 2200              		.loc 1 1013 0
 2201 0014 FB68     		ldr	r3, [r7, #12]
 2202 0016 5A69     		ldr	r2, [r3, #20]
 2203 0018 BB68     		ldr	r3, [r7, #8]
 2204 001a 1A43     		orrs	r2, r2, r3
 2205 001c FB68     		ldr	r3, [r7, #12]
 2206 001e 5A61     		str	r2, [r3, #20]
 2207 0020 07E0     		b	.L123
 2208              	.L124:
1014:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1015:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
1016:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1017:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Disable the selected CANx interrupt */
1018:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->IER &= ~CAN_IT;
 2209              		.loc 1 1018 0
 2210 0022 FB68     		ldr	r3, [r7, #12]
 2211 0024 5A69     		ldr	r2, [r3, #20]
 2212 0026 BB68     		ldr	r3, [r7, #8]
 2213 0028 6FEA0303 		mvn	r3, r3
 2214 002c 1A40     		ands	r2, r2, r3
 2215 002e FB68     		ldr	r3, [r7, #12]
 2216 0030 5A61     		str	r2, [r3, #20]
 2217              	.L123:
1019:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1020:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2218              		.loc 1 1020 0
 2219 0032 07F11407 		add	r7, r7, #20
 2220 0036 BD46     		mov	sp, r7
 2221 0038 80BC     		pop	{r7}
 2222 003a 7047     		bx	lr
 2223              		.cfi_endproc
 2224              	.LFE48:
 2226              		.section	.text.CAN_GetFlagStatus,"ax",%progbits
 2227              		.align	2
 2228              		.global	CAN_GetFlagStatus
 2229              		.thumb
 2230              		.thumb_func
 2232              	CAN_GetFlagStatus:
 2233              	.LFB49:
1021:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
1022:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CAN flag is set or not.
1023:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1024:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to check.
1025:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1026:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EWG
1027:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EPV 
1028:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_BOF
1029:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP0
1030:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP1
1031:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP2
1032:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP1   
1033:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF1       
1034:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV1   
1035:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP0   
1036:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF0       
1037:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV0   
1038:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_WKU 
1039:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_SLAK  
1040:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_LEC       
1041:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval The new state of CAN_FLAG (SET or RESET).
1042:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
1043:../StdPeripheralDriver/src/stm32f10x_can.c **** FlagStatus CAN_GetFlagStatus(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1044:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2234              		.loc 1 1044 0
 2235              		.cfi_startproc
 2236              		@ args = 0, pretend = 0, frame = 16
 2237              		@ frame_needed = 1, uses_anonymous_args = 0
 2238              		@ link register save eliminated.
 2239 0000 80B4     		push	{r7}
 2240              	.LCFI60:
 2241              		.cfi_def_cfa_offset 4
 2242              		.cfi_offset 7, -4
 2243 0002 85B0     		sub	sp, sp, #20
 2244              	.LCFI61:
 2245              		.cfi_def_cfa_offset 24
 2246 0004 00AF     		add	r7, sp, #0
 2247              	.LCFI62:
 2248              		.cfi_def_cfa_register 7
 2249 0006 7860     		str	r0, [r7, #4]
 2250 0008 3960     		str	r1, [r7, #0]
1045:../StdPeripheralDriver/src/stm32f10x_can.c ****   FlagStatus bitstatus = RESET;
 2251              		.loc 1 1045 0
 2252 000a 4FF00003 		mov	r3, #0
 2253 000e FB73     		strb	r3, [r7, #15]
1046:../StdPeripheralDriver/src/stm32f10x_can.c ****   
1047:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
1048:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1049:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_GET_FLAG(CAN_FLAG));
1050:../StdPeripheralDriver/src/stm32f10x_can.c ****   
1051:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1052:../StdPeripheralDriver/src/stm32f10x_can.c ****   if((CAN_FLAG & CAN_FLAGS_ESR) != (uint32_t)RESET)
 2254              		.loc 1 1052 0
 2255 0010 3B68     		ldr	r3, [r7, #0]
 2256 0012 03F47003 		and	r3, r3, #15728640
 2257 0016 002B     		cmp	r3, #0
 2258 0018 11D0     		beq	.L127
1053:../StdPeripheralDriver/src/stm32f10x_can.c ****   { 
1054:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1055:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->ESR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2259              		.loc 1 1055 0
 2260 001a 7B68     		ldr	r3, [r7, #4]
 2261 001c 9A69     		ldr	r2, [r3, #24]
 2262 001e 3B68     		ldr	r3, [r7, #0]
 2263 0020 1340     		ands	r3, r3, r2
 2264 0022 23F07F43 		bic	r3, r3, #-16777216
 2265 0026 23F47003 		bic	r3, r3, #15728640
 2266 002a 002B     		cmp	r3, #0
 2267 002c 03D0     		beq	.L128
1056:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1057:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1058:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = SET;
 2268              		.loc 1 1058 0
 2269 002e 4FF00103 		mov	r3, #1
 2270 0032 FB73     		strb	r3, [r7, #15]
 2271 0034 59E0     		b	.L129
 2272              	.L128:
1059:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1060:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
1061:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1062:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1063:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2273              		.loc 1 1063 0
 2274 0036 4FF00003 		mov	r3, #0
 2275 003a FB73     		strb	r3, [r7, #15]
 2276 003c 55E0     		b	.L129
 2277              	.L127:
1064:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1065:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1066:../StdPeripheralDriver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_MSR) != (uint32_t)RESET)
 2278              		.loc 1 1066 0
 2279 003e 3B68     		ldr	r3, [r7, #0]
 2280 0040 03F08073 		and	r3, r3, #16777216
 2281 0044 002B     		cmp	r3, #0
 2282 0046 11D0     		beq	.L130
1067:../StdPeripheralDriver/src/stm32f10x_can.c ****   { 
1068:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1069:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->MSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2283              		.loc 1 1069 0
 2284 0048 7B68     		ldr	r3, [r7, #4]
 2285 004a 5A68     		ldr	r2, [r3, #4]
 2286 004c 3B68     		ldr	r3, [r7, #0]
 2287 004e 1340     		ands	r3, r3, r2
 2288 0050 23F07F43 		bic	r3, r3, #-16777216
 2289 0054 23F47003 		bic	r3, r3, #15728640
 2290 0058 002B     		cmp	r3, #0
 2291 005a 03D0     		beq	.L131
1070:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1071:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1072:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = SET;
 2292              		.loc 1 1072 0
 2293 005c 4FF00103 		mov	r3, #1
 2294 0060 FB73     		strb	r3, [r7, #15]
 2295 0062 42E0     		b	.L129
 2296              	.L131:
1073:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1074:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
1075:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1076:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1077:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2297              		.loc 1 1077 0
 2298 0064 4FF00003 		mov	r3, #0
 2299 0068 FB73     		strb	r3, [r7, #15]
 2300 006a 3EE0     		b	.L129
 2301              	.L130:
1078:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1079:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1080:../StdPeripheralDriver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_TSR) != (uint32_t)RESET)
 2302              		.loc 1 1080 0
 2303 006c 3B68     		ldr	r3, [r7, #0]
 2304 006e 03F00063 		and	r3, r3, #134217728
 2305 0072 002B     		cmp	r3, #0
 2306 0074 11D0     		beq	.L132
1081:../StdPeripheralDriver/src/stm32f10x_can.c ****   { 
1082:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1083:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->TSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2307              		.loc 1 1083 0
 2308 0076 7B68     		ldr	r3, [r7, #4]
 2309 0078 9A68     		ldr	r2, [r3, #8]
 2310 007a 3B68     		ldr	r3, [r7, #0]
 2311 007c 1340     		ands	r3, r3, r2
 2312 007e 23F07F43 		bic	r3, r3, #-16777216
 2313 0082 23F47003 		bic	r3, r3, #15728640
 2314 0086 002B     		cmp	r3, #0
 2315 0088 03D0     		beq	.L133
1084:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1085:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1086:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = SET;
 2316              		.loc 1 1086 0
 2317 008a 4FF00103 		mov	r3, #1
 2318 008e FB73     		strb	r3, [r7, #15]
 2319 0090 2BE0     		b	.L129
 2320              	.L133:
1087:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1088:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
1089:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1090:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1091:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2321              		.loc 1 1091 0
 2322 0092 4FF00003 		mov	r3, #0
 2323 0096 FB73     		strb	r3, [r7, #15]
 2324 0098 27E0     		b	.L129
 2325              	.L132:
1092:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1093:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1094:../StdPeripheralDriver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_RF0R) != (uint32_t)RESET)
 2326              		.loc 1 1094 0
 2327 009a 3B68     		ldr	r3, [r7, #0]
 2328 009c 03F00073 		and	r3, r3, #33554432
 2329 00a0 002B     		cmp	r3, #0
 2330 00a2 11D0     		beq	.L134
1095:../StdPeripheralDriver/src/stm32f10x_can.c ****   { 
1096:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1097:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CANx->RF0R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2331              		.loc 1 1097 0
 2332 00a4 7B68     		ldr	r3, [r7, #4]
 2333 00a6 DA68     		ldr	r2, [r3, #12]
 2334 00a8 3B68     		ldr	r3, [r7, #0]
 2335 00aa 1340     		ands	r3, r3, r2
 2336 00ac 23F07F43 		bic	r3, r3, #-16777216
 2337 00b0 23F47003 		bic	r3, r3, #15728640
 2338 00b4 002B     		cmp	r3, #0
 2339 00b6 03D0     		beq	.L135
1098:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1099:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1100:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = SET;
 2340              		.loc 1 1100 0
 2341 00b8 4FF00103 		mov	r3, #1
 2342 00bc FB73     		strb	r3, [r7, #15]
 2343 00be 14E0     		b	.L129
 2344              	.L135:
1101:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1102:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
1103:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1104:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1105:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2345              		.loc 1 1105 0
 2346 00c0 4FF00003 		mov	r3, #0
 2347 00c4 FB73     		strb	r3, [r7, #15]
 2348 00c6 10E0     		b	.L129
 2349              	.L134:
1106:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1107:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1108:../StdPeripheralDriver/src/stm32f10x_can.c ****   else /* If(CAN_FLAG & CAN_FLAGS_RF1R != (uint32_t)RESET) */
1109:../StdPeripheralDriver/src/stm32f10x_can.c ****   { 
1110:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1111:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((uint32_t)(CANx->RF1R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 2350              		.loc 1 1111 0
 2351 00c8 7B68     		ldr	r3, [r7, #4]
 2352 00ca 1A69     		ldr	r2, [r3, #16]
 2353 00cc 3B68     		ldr	r3, [r7, #0]
 2354 00ce 1340     		ands	r3, r3, r2
 2355 00d0 23F07F43 		bic	r3, r3, #-16777216
 2356 00d4 23F47003 		bic	r3, r3, #15728640
 2357 00d8 002B     		cmp	r3, #0
 2358 00da 03D0     		beq	.L136
1112:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1113:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1114:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = SET;
 2359              		.loc 1 1114 0
 2360 00dc 4FF00103 		mov	r3, #1
 2361 00e0 FB73     		strb	r3, [r7, #15]
 2362 00e2 02E0     		b	.L129
 2363              	.L136:
1115:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1116:../StdPeripheralDriver/src/stm32f10x_can.c ****     else
1117:../StdPeripheralDriver/src/stm32f10x_can.c ****     { 
1118:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1119:../StdPeripheralDriver/src/stm32f10x_can.c ****       bitstatus = RESET;
 2364              		.loc 1 1119 0
 2365 00e4 4FF00003 		mov	r3, #0
 2366 00e8 FB73     		strb	r3, [r7, #15]
 2367              	.L129:
1120:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1121:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1122:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Return the CAN_FLAG status */
1123:../StdPeripheralDriver/src/stm32f10x_can.c ****   return  bitstatus;
 2368              		.loc 1 1123 0
 2369 00ea FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1124:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2370              		.loc 1 1124 0
 2371 00ec 1846     		mov	r0, r3
 2372 00ee 07F11407 		add	r7, r7, #20
 2373 00f2 BD46     		mov	sp, r7
 2374 00f4 80BC     		pop	{r7}
 2375 00f6 7047     		bx	lr
 2376              		.cfi_endproc
 2377              	.LFE49:
 2379              		.section	.text.CAN_ClearFlag,"ax",%progbits
 2380              		.align	2
 2381              		.global	CAN_ClearFlag
 2382              		.thumb
 2383              		.thumb_func
 2385              	CAN_ClearFlag:
 2386              	.LFB50:
1125:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1126:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
1127:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Clears the CAN's pending flags.
1128:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1129:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to clear.
1130:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1131:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP0
1132:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP1
1133:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP2
1134:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF1       
1135:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV1   
1136:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF0       
1137:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV0   
1138:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_WKU   
1139:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_SLAK    
1140:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_LEC       
1141:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
1142:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
1143:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_ClearFlag(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1144:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2387              		.loc 1 1144 0
 2388              		.cfi_startproc
 2389              		@ args = 0, pretend = 0, frame = 16
 2390              		@ frame_needed = 1, uses_anonymous_args = 0
 2391              		@ link register save eliminated.
 2392 0000 80B4     		push	{r7}
 2393              	.LCFI63:
 2394              		.cfi_def_cfa_offset 4
 2395              		.cfi_offset 7, -4
 2396 0002 85B0     		sub	sp, sp, #20
 2397              	.LCFI64:
 2398              		.cfi_def_cfa_offset 24
 2399 0004 00AF     		add	r7, sp, #0
 2400              	.LCFI65:
 2401              		.cfi_def_cfa_register 7
 2402 0006 7860     		str	r0, [r7, #4]
 2403 0008 3960     		str	r1, [r7, #0]
1145:../StdPeripheralDriver/src/stm32f10x_can.c ****   uint32_t flagtmp=0;
 2404              		.loc 1 1145 0
 2405 000a 4FF00003 		mov	r3, #0
 2406 000e FB60     		str	r3, [r7, #12]
1146:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
1147:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1148:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_FLAG(CAN_FLAG));
1149:../StdPeripheralDriver/src/stm32f10x_can.c ****   
1150:../StdPeripheralDriver/src/stm32f10x_can.c ****   if (CAN_FLAG == CAN_FLAG_LEC) /* ESR register */
 2407              		.loc 1 1150 0
 2408 0010 3A68     		ldr	r2, [r7, #0]
 2409 0012 4FF07003 		mov	r3, #112
 2410 0016 C3F2F003 		movt	r3, 12528
 2411 001a 9A42     		cmp	r2, r3
 2412 001c 04D1     		bne	.L139
1151:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1152:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* Clear the selected CAN flags */
1153:../StdPeripheralDriver/src/stm32f10x_can.c ****     CANx->ESR = (uint32_t)RESET;
 2413              		.loc 1 1153 0
 2414 001e 7B68     		ldr	r3, [r7, #4]
 2415 0020 4FF00002 		mov	r2, #0
 2416 0024 9A61     		str	r2, [r3, #24]
 2417 0026 23E0     		b	.L138
 2418              	.L139:
1154:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1155:../StdPeripheralDriver/src/stm32f10x_can.c ****   else /* MSR or TSR or RF0R or RF1R */
1156:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1157:../StdPeripheralDriver/src/stm32f10x_can.c ****     flagtmp = CAN_FLAG & 0x000FFFFF;
 2419              		.loc 1 1157 0
 2420 0028 3B68     		ldr	r3, [r7, #0]
 2421 002a 23F07F43 		bic	r3, r3, #-16777216
 2422 002e 23F47003 		bic	r3, r3, #15728640
 2423 0032 FB60     		str	r3, [r7, #12]
1158:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1159:../StdPeripheralDriver/src/stm32f10x_can.c ****     if ((CAN_FLAG & CAN_FLAGS_RF0R)!=(uint32_t)RESET)
 2424              		.loc 1 1159 0
 2425 0034 3B68     		ldr	r3, [r7, #0]
 2426 0036 03F00073 		and	r3, r3, #33554432
 2427 003a 002B     		cmp	r3, #0
 2428 003c 03D0     		beq	.L141
1160:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
1161:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* Receive Flags */
1162:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->RF0R = (uint32_t)(flagtmp);
 2429              		.loc 1 1162 0
 2430 003e 7B68     		ldr	r3, [r7, #4]
 2431 0040 FA68     		ldr	r2, [r7, #12]
 2432 0042 DA60     		str	r2, [r3, #12]
 2433 0044 14E0     		b	.L138
 2434              	.L141:
1163:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1164:../StdPeripheralDriver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_RF1R)!=(uint32_t)RESET)
 2435              		.loc 1 1164 0
 2436 0046 3B68     		ldr	r3, [r7, #0]
 2437 0048 03F08063 		and	r3, r3, #67108864
 2438 004c 002B     		cmp	r3, #0
 2439 004e 03D0     		beq	.L142
1165:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
1166:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* Receive Flags */
1167:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->RF1R = (uint32_t)(flagtmp);
 2440              		.loc 1 1167 0
 2441 0050 7B68     		ldr	r3, [r7, #4]
 2442 0052 FA68     		ldr	r2, [r7, #12]
 2443 0054 1A61     		str	r2, [r3, #16]
 2444 0056 0BE0     		b	.L138
 2445              	.L142:
1168:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1169:../StdPeripheralDriver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_TSR)!=(uint32_t)RESET)
 2446              		.loc 1 1169 0
 2447 0058 3B68     		ldr	r3, [r7, #0]
 2448 005a 03F00063 		and	r3, r3, #134217728
 2449 005e 002B     		cmp	r3, #0
 2450 0060 03D0     		beq	.L143
1170:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
1171:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* Transmit Flags */
1172:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->TSR = (uint32_t)(flagtmp);
 2451              		.loc 1 1172 0
 2452 0062 7B68     		ldr	r3, [r7, #4]
 2453 0064 FA68     		ldr	r2, [r7, #12]
 2454 0066 9A60     		str	r2, [r3, #8]
 2455 0068 02E0     		b	.L138
 2456              	.L143:
1173:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1174:../StdPeripheralDriver/src/stm32f10x_can.c ****     else /* If((CAN_FLAG & CAN_FLAGS_MSR)!=(uint32_t)RESET) */
1175:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
1176:../StdPeripheralDriver/src/stm32f10x_can.c ****       /* Operating mode Flags */
1177:../StdPeripheralDriver/src/stm32f10x_can.c ****       CANx->MSR = (uint32_t)(flagtmp);
 2457              		.loc 1 1177 0
 2458 006a 7B68     		ldr	r3, [r7, #4]
 2459 006c FA68     		ldr	r2, [r7, #12]
 2460 006e 5A60     		str	r2, [r3, #4]
 2461              	.L138:
1178:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1179:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1180:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2462              		.loc 1 1180 0
 2463 0070 07F11407 		add	r7, r7, #20
 2464 0074 BD46     		mov	sp, r7
 2465 0076 80BC     		pop	{r7}
 2466 0078 7047     		bx	lr
 2467              		.cfi_endproc
 2468              	.LFE50:
 2470 007a 00BF     		.section	.text.CAN_GetITStatus,"ax",%progbits
 2471              		.align	2
 2472              		.global	CAN_GetITStatus
 2473              		.thumb
 2474              		.thumb_func
 2476              	CAN_GetITStatus:
 2477              	.LFB51:
1181:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1182:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
1183:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CANx interrupt has occurred or not.
1184:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1185:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_IT:  specifies the CAN interrupt source to check.
1186:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  This parameter can be one of the following flags: 
1187:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_TME               
1188:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP0              
1189:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF0               
1190:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV0              
1191:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP1              
1192:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF1               
1193:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV1              
1194:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_WKU  
1195:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_SLK  
1196:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EWG    
1197:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EPV    
1198:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_BOF    
1199:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_LEC    
1200:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                 -  CAN_IT_ERR 
1201:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval The current state of CAN_IT (SET or RESET).
1202:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
1203:../StdPeripheralDriver/src/stm32f10x_can.c **** ITStatus CAN_GetITStatus(CAN_TypeDef* CANx, uint32_t CAN_IT)
1204:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2478              		.loc 1 1204 0
 2479              		.cfi_startproc
 2480              		@ args = 0, pretend = 0, frame = 16
 2481              		@ frame_needed = 1, uses_anonymous_args = 0
 2482 0000 80B5     		push	{r7, lr}
 2483              	.LCFI66:
 2484              		.cfi_def_cfa_offset 8
 2485              		.cfi_offset 7, -8
 2486              		.cfi_offset 14, -4
 2487 0002 84B0     		sub	sp, sp, #16
 2488              	.LCFI67:
 2489              		.cfi_def_cfa_offset 24
 2490 0004 00AF     		add	r7, sp, #0
 2491              	.LCFI68:
 2492              		.cfi_def_cfa_register 7
 2493 0006 7860     		str	r0, [r7, #4]
 2494 0008 3960     		str	r1, [r7, #0]
1205:../StdPeripheralDriver/src/stm32f10x_can.c ****   ITStatus itstatus = RESET;
 2495              		.loc 1 1205 0
 2496 000a 4FF00003 		mov	r3, #0
 2497 000e FB73     		strb	r3, [r7, #15]
1206:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
1207:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1208:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1209:../StdPeripheralDriver/src/stm32f10x_can.c ****   
1210:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* check the enable interrupt bit */
1211:../StdPeripheralDriver/src/stm32f10x_can.c ****  if((CANx->IER & CAN_IT) != RESET)
 2498              		.loc 1 1211 0
 2499 0010 7B68     		ldr	r3, [r7, #4]
 2500 0012 5A69     		ldr	r2, [r3, #20]
 2501 0014 3B68     		ldr	r3, [r7, #0]
 2502 0016 1340     		ands	r3, r3, r2
 2503 0018 002B     		cmp	r3, #0
 2504 001a 00F0C480 		beq	.L145
1212:../StdPeripheralDriver/src/stm32f10x_can.c ****  {
1213:../StdPeripheralDriver/src/stm32f10x_can.c ****    /* in case the Interrupt is enabled, .... */
1214:../StdPeripheralDriver/src/stm32f10x_can.c ****     switch (CAN_IT)
 2505              		.loc 1 1214 0
 2506 001e 3B68     		ldr	r3, [r7, #0]
 2507 0020 402B     		cmp	r3, #64
 2508 0022 6BD0     		beq	.L153
 2509 0024 402B     		cmp	r3, #64
 2510 0026 0FD8     		bhi	.L161
 2511 0028 042B     		cmp	r3, #4
 2512 002a 3FD0     		beq	.L149
 2513 002c 042B     		cmp	r3, #4
 2514 002e 04D8     		bhi	.L162
 2515 0030 012B     		cmp	r3, #1
 2516 0032 25D0     		beq	.L147
 2517 0034 022B     		cmp	r3, #2
 2518 0036 2FD0     		beq	.L148
 2519 0038 B1E0     		b	.L146
 2520              	.L162:
 2521 003a 102B     		cmp	r3, #16
 2522 003c 4AD0     		beq	.L151
 2523 003e 202B     		cmp	r3, #32
 2524 0040 52D0     		beq	.L152
 2525 0042 082B     		cmp	r3, #8
 2526 0044 3CD0     		beq	.L150
 2527 0046 AAE0     		b	.L146
 2528              	.L161:
 2529 0048 B3F5006F 		cmp	r3, #2048
 2530 004c 00F09280 		beq	.L157
 2531 0050 B3F5006F 		cmp	r3, #2048
 2532 0054 09D8     		bhi	.L163
 2533 0056 B3F5007F 		cmp	r3, #512
 2534 005a 77D0     		beq	.L155
 2535 005c B3F5806F 		cmp	r3, #1024
 2536 0060 7ED0     		beq	.L156
 2537 0062 B3F5807F 		cmp	r3, #256
 2538 0066 67D0     		beq	.L154
 2539 0068 99E0     		b	.L146
 2540              	.L163:
 2541 006a B3F5803F 		cmp	r3, #65536
 2542 006e 4FD0     		beq	.L159
 2543 0070 B3F5003F 		cmp	r3, #131072
 2544 0074 56D0     		beq	.L160
 2545 0076 B3F5004F 		cmp	r3, #32768
 2546 007a 00F08580 		beq	.L158
 2547 007e 8EE0     		b	.L146
 2548              	.L147:
1215:../StdPeripheralDriver/src/stm32f10x_can.c ****     {
1216:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1217:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_TSR_RQCPx bits */
1218:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->TSR, CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2);  
 2549              		.loc 1 1218 0
 2550 0080 7B68     		ldr	r3, [r7, #4]
 2551 0082 9B68     		ldr	r3, [r3, #8]
 2552 0084 1846     		mov	r0, r3
 2553 0086 40F20111 		movw	r1, #257
 2554 008a C0F20101 		movt	r1, 1
 2555 008e FFF7FEFF 		bl	CheckITStatus
 2556 0092 0346     		mov	r3, r0
 2557 0094 FB73     		strb	r3, [r7, #15]
1219:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2558              		.loc 1 1219 0
 2559 0096 89E0     		b	.L165
 2560              	.L148:
1220:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FMP0:
1221:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FMP0 bit */
1222:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FMP0);  
 2561              		.loc 1 1222 0
 2562 0098 7B68     		ldr	r3, [r7, #4]
 2563 009a DB68     		ldr	r3, [r3, #12]
 2564 009c 1846     		mov	r0, r3
 2565 009e 4FF00301 		mov	r1, #3
 2566 00a2 FFF7FEFF 		bl	CheckITStatus
 2567 00a6 0346     		mov	r3, r0
 2568 00a8 FB73     		strb	r3, [r7, #15]
1223:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2569              		.loc 1 1223 0
 2570 00aa 7FE0     		b	.L165
 2571              	.L149:
1224:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1225:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FULL0 bit */
1226:../StdPeripheralDriver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FULL0);  
 2572              		.loc 1 1226 0
 2573 00ac 7B68     		ldr	r3, [r7, #4]
 2574 00ae DB68     		ldr	r3, [r3, #12]
 2575 00b0 1846     		mov	r0, r3
 2576 00b2 4FF00801 		mov	r1, #8
 2577 00b6 FFF7FEFF 		bl	CheckITStatus
 2578 00ba 0346     		mov	r3, r0
 2579 00bc FB73     		strb	r3, [r7, #15]
1227:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2580              		.loc 1 1227 0
 2581 00be 75E0     		b	.L165
 2582              	.L150:
1228:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1229:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FOVR0 bit */
1230:../StdPeripheralDriver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FOVR0);  
 2583              		.loc 1 1230 0
 2584 00c0 7B68     		ldr	r3, [r7, #4]
 2585 00c2 DB68     		ldr	r3, [r3, #12]
 2586 00c4 1846     		mov	r0, r3
 2587 00c6 4FF01001 		mov	r1, #16
 2588 00ca FFF7FEFF 		bl	CheckITStatus
 2589 00ce 0346     		mov	r3, r0
 2590 00d0 FB73     		strb	r3, [r7, #15]
1231:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2591              		.loc 1 1231 0
 2592 00d2 6BE0     		b	.L165
 2593              	.L151:
1232:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FMP1:
1233:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FMP1 bit */
1234:../StdPeripheralDriver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FMP1);  
 2594              		.loc 1 1234 0
 2595 00d4 7B68     		ldr	r3, [r7, #4]
 2596 00d6 1B69     		ldr	r3, [r3, #16]
 2597 00d8 1846     		mov	r0, r3
 2598 00da 4FF00301 		mov	r1, #3
 2599 00de FFF7FEFF 		bl	CheckITStatus
 2600 00e2 0346     		mov	r3, r0
 2601 00e4 FB73     		strb	r3, [r7, #15]
1235:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2602              		.loc 1 1235 0
 2603 00e6 61E0     		b	.L165
 2604              	.L152:
1236:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1237:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FULL1 bit */
1238:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FULL1);  
 2605              		.loc 1 1238 0
 2606 00e8 7B68     		ldr	r3, [r7, #4]
 2607 00ea 1B69     		ldr	r3, [r3, #16]
 2608 00ec 1846     		mov	r0, r3
 2609 00ee 4FF00801 		mov	r1, #8
 2610 00f2 FFF7FEFF 		bl	CheckITStatus
 2611 00f6 0346     		mov	r3, r0
 2612 00f8 FB73     		strb	r3, [r7, #15]
1239:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2613              		.loc 1 1239 0
 2614 00fa 57E0     		b	.L165
 2615              	.L153:
1240:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1241:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FOVR1 bit */
1242:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FOVR1);  
 2616              		.loc 1 1242 0
 2617 00fc 7B68     		ldr	r3, [r7, #4]
 2618 00fe 1B69     		ldr	r3, [r3, #16]
 2619 0100 1846     		mov	r0, r3
 2620 0102 4FF01001 		mov	r1, #16
 2621 0106 FFF7FEFF 		bl	CheckITStatus
 2622 010a 0346     		mov	r3, r0
 2623 010c FB73     		strb	r3, [r7, #15]
1243:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2624              		.loc 1 1243 0
 2625 010e 4DE0     		b	.L165
 2626              	.L159:
1244:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1245:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_MSR_WKUI bit */
1246:../StdPeripheralDriver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_WKUI);  
 2627              		.loc 1 1246 0
 2628 0110 7B68     		ldr	r3, [r7, #4]
 2629 0112 5B68     		ldr	r3, [r3, #4]
 2630 0114 1846     		mov	r0, r3
 2631 0116 4FF00801 		mov	r1, #8
 2632 011a FFF7FEFF 		bl	CheckITStatus
 2633 011e 0346     		mov	r3, r0
 2634 0120 FB73     		strb	r3, [r7, #15]
1247:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2635              		.loc 1 1247 0
 2636 0122 43E0     		b	.L165
 2637              	.L160:
1248:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1249:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_MSR_SLAKI bit */
1250:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->MSR, CAN_MSR_SLAKI);  
 2638              		.loc 1 1250 0
 2639 0124 7B68     		ldr	r3, [r7, #4]
 2640 0126 5B68     		ldr	r3, [r3, #4]
 2641 0128 1846     		mov	r0, r3
 2642 012a 4FF01001 		mov	r1, #16
 2643 012e FFF7FEFF 		bl	CheckITStatus
 2644 0132 0346     		mov	r3, r0
 2645 0134 FB73     		strb	r3, [r7, #15]
1251:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2646              		.loc 1 1251 0
 2647 0136 39E0     		b	.L165
 2648              	.L154:
1252:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1253:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EWGF bit */
1254:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EWGF);  
 2649              		.loc 1 1254 0
 2650 0138 7B68     		ldr	r3, [r7, #4]
 2651 013a 9B69     		ldr	r3, [r3, #24]
 2652 013c 1846     		mov	r0, r3
 2653 013e 4FF00101 		mov	r1, #1
 2654 0142 FFF7FEFF 		bl	CheckITStatus
 2655 0146 0346     		mov	r3, r0
 2656 0148 FB73     		strb	r3, [r7, #15]
1255:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2657              		.loc 1 1255 0
 2658 014a 2FE0     		b	.L165
 2659              	.L155:
1256:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1257:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EPVF bit */
1258:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EPVF);  
 2660              		.loc 1 1258 0
 2661 014c 7B68     		ldr	r3, [r7, #4]
 2662 014e 9B69     		ldr	r3, [r3, #24]
 2663 0150 1846     		mov	r0, r3
 2664 0152 4FF00201 		mov	r1, #2
 2665 0156 FFF7FEFF 		bl	CheckITStatus
 2666 015a 0346     		mov	r3, r0
 2667 015c FB73     		strb	r3, [r7, #15]
1259:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2668              		.loc 1 1259 0
 2669 015e 25E0     		b	.L165
 2670              	.L156:
1260:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1261:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_ESR_BOFF bit */
1262:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_BOFF);  
 2671              		.loc 1 1262 0
 2672 0160 7B68     		ldr	r3, [r7, #4]
 2673 0162 9B69     		ldr	r3, [r3, #24]
 2674 0164 1846     		mov	r0, r3
 2675 0166 4FF00401 		mov	r1, #4
 2676 016a FFF7FEFF 		bl	CheckITStatus
 2677 016e 0346     		mov	r3, r0
 2678 0170 FB73     		strb	r3, [r7, #15]
1263:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2679              		.loc 1 1263 0
 2680 0172 1BE0     		b	.L165
 2681              	.L157:
1264:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1265:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_ESR_LEC bit */
1266:../StdPeripheralDriver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_LEC);  
 2682              		.loc 1 1266 0
 2683 0174 7B68     		ldr	r3, [r7, #4]
 2684 0176 9B69     		ldr	r3, [r3, #24]
 2685 0178 1846     		mov	r0, r3
 2686 017a 4FF07001 		mov	r1, #112
 2687 017e FFF7FEFF 		bl	CheckITStatus
 2688 0182 0346     		mov	r3, r0
 2689 0184 FB73     		strb	r3, [r7, #15]
1267:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2690              		.loc 1 1267 0
 2691 0186 11E0     		b	.L165
 2692              	.L158:
1268:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1269:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* Check CAN_MSR_ERRI bit */ 
1270:../StdPeripheralDriver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_ERRI); 
 2693              		.loc 1 1270 0
 2694 0188 7B68     		ldr	r3, [r7, #4]
 2695 018a 5B68     		ldr	r3, [r3, #4]
 2696 018c 1846     		mov	r0, r3
 2697 018e 4FF00401 		mov	r1, #4
 2698 0192 FFF7FEFF 		bl	CheckITStatus
 2699 0196 0346     		mov	r3, r0
 2700 0198 FB73     		strb	r3, [r7, #15]
1271:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2701              		.loc 1 1271 0
 2702 019a 00BF     		nop
 2703 019c 06E0     		b	.L165
 2704              	.L146:
1272:../StdPeripheralDriver/src/stm32f10x_can.c ****       default :
1273:../StdPeripheralDriver/src/stm32f10x_can.c ****                /* in case of error, return RESET */
1274:../StdPeripheralDriver/src/stm32f10x_can.c ****               itstatus = RESET;
 2705              		.loc 1 1274 0
 2706 019e 4FF00003 		mov	r3, #0
 2707 01a2 FB73     		strb	r3, [r7, #15]
1275:../StdPeripheralDriver/src/stm32f10x_can.c ****               break;
 2708              		.loc 1 1275 0
 2709 01a4 02E0     		b	.L165
 2710              	.L145:
1276:../StdPeripheralDriver/src/stm32f10x_can.c ****     }
1277:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1278:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
1279:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1280:../StdPeripheralDriver/src/stm32f10x_can.c ****    /* in case the Interrupt is not enabled, return RESET */
1281:../StdPeripheralDriver/src/stm32f10x_can.c ****     itstatus  = RESET;
 2711              		.loc 1 1281 0
 2712 01a6 4FF00003 		mov	r3, #0
 2713 01aa FB73     		strb	r3, [r7, #15]
 2714              	.L165:
1282:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1283:../StdPeripheralDriver/src/stm32f10x_can.c ****   
1284:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Return the CAN_IT status */
1285:../StdPeripheralDriver/src/stm32f10x_can.c ****   return  itstatus;
 2715              		.loc 1 1285 0
 2716 01ac FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1286:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2717              		.loc 1 1286 0
 2718 01ae 1846     		mov	r0, r3
 2719 01b0 07F11007 		add	r7, r7, #16
 2720 01b4 BD46     		mov	sp, r7
 2721 01b6 80BD     		pop	{r7, pc}
 2722              		.cfi_endproc
 2723              	.LFE51:
 2725              		.section	.text.CAN_ClearITPendingBit,"ax",%progbits
 2726              		.align	2
 2727              		.global	CAN_ClearITPendingBit
 2728              		.thumb
 2729              		.thumb_func
 2731              	CAN_ClearITPendingBit:
 2732              	.LFB52:
1287:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1288:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
1289:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Clears the CANx's interrupt pending bits.
1290:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1291:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the interrupt pending bit to clear.
1292:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_TME                     
1293:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF0               
1294:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV0                     
1295:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF1               
1296:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV1              
1297:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_WKU  
1298:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_SLK  
1299:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EWG    
1300:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EPV    
1301:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_BOF    
1302:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_LEC    
1303:../StdPeripheralDriver/src/stm32f10x_can.c ****   *                  -  CAN_IT_ERR 
1304:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval None.
1305:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
1306:../StdPeripheralDriver/src/stm32f10x_can.c **** void CAN_ClearITPendingBit(CAN_TypeDef* CANx, uint32_t CAN_IT)
1307:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2733              		.loc 1 1307 0
 2734              		.cfi_startproc
 2735              		@ args = 0, pretend = 0, frame = 8
 2736              		@ frame_needed = 1, uses_anonymous_args = 0
 2737              		@ link register save eliminated.
 2738 0000 80B4     		push	{r7}
 2739              	.LCFI69:
 2740              		.cfi_def_cfa_offset 4
 2741              		.cfi_offset 7, -4
 2742 0002 83B0     		sub	sp, sp, #12
 2743              	.LCFI70:
 2744              		.cfi_def_cfa_offset 16
 2745 0004 00AF     		add	r7, sp, #0
 2746              	.LCFI71:
 2747              		.cfi_def_cfa_register 7
 2748 0006 7860     		str	r0, [r7, #4]
 2749 0008 3960     		str	r1, [r7, #0]
1308:../StdPeripheralDriver/src/stm32f10x_can.c ****   /* Check the parameters */
1309:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1310:../StdPeripheralDriver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_IT(CAN_IT));
1311:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1312:../StdPeripheralDriver/src/stm32f10x_can.c ****   switch (CAN_IT)
 2750              		.loc 1 1312 0
 2751 000a 3B68     		ldr	r3, [r7, #0]
 2752 000c B3F5807F 		cmp	r3, #256
 2753 0010 4CD0     		beq	.L174
 2754 0012 B3F5807F 		cmp	r3, #256
 2755 0016 0DD8     		bhi	.L181
 2756 0018 082B     		cmp	r3, #8
 2757 001a 2ED0     		beq	.L171
 2758 001c 082B     		cmp	r3, #8
 2759 001e 04D8     		bhi	.L182
 2760 0020 012B     		cmp	r3, #1
 2761 0022 1ED0     		beq	.L169
 2762 0024 042B     		cmp	r3, #4
 2763 0026 23D0     		beq	.L170
 2764 0028 61E0     		b	.L168
 2765              	.L182:
 2766 002a 202B     		cmp	r3, #32
 2767 002c 2AD0     		beq	.L172
 2768 002e 402B     		cmp	r3, #64
 2769 0030 2DD0     		beq	.L173
 2770 0032 5CE0     		b	.L168
 2771              	.L181:
 2772 0034 B3F5006F 		cmp	r3, #2048
 2773 0038 47D0     		beq	.L177
 2774 003a B3F5006F 		cmp	r3, #2048
 2775 003e 06D8     		bhi	.L183
 2776 0040 B3F5007F 		cmp	r3, #512
 2777 0044 37D0     		beq	.L175
 2778 0046 B3F5806F 		cmp	r3, #1024
 2779 004a 39D0     		beq	.L176
 2780 004c 4FE0     		b	.L168
 2781              	.L183:
 2782 004e B3F5803F 		cmp	r3, #65536
 2783 0052 21D0     		beq	.L179
 2784 0054 B3F5003F 		cmp	r3, #131072
 2785 0058 23D0     		beq	.L180
 2786 005a B3F5004F 		cmp	r3, #32768
 2787 005e 3DD0     		beq	.L178
 2788 0060 45E0     		b	.L168
 2789              	.L169:
1313:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1314:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1315:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_TSR_RQCPx (rc_w1)*/
1316:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->TSR = CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2;  
 2790              		.loc 1 1316 0
 2791 0062 7A68     		ldr	r2, [r7, #4]
 2792 0064 40F20113 		movw	r3, #257
 2793 0068 C0F20103 		movt	r3, 1
 2794 006c 9360     		str	r3, [r2, #8]
1317:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2795              		.loc 1 1317 0
 2796 006e 3FE0     		b	.L167
 2797              	.L170:
1318:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1319:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FULL0 (rc_w1)*/
1320:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FULL0; 
 2798              		.loc 1 1320 0
 2799 0070 7B68     		ldr	r3, [r7, #4]
 2800 0072 4FF00802 		mov	r2, #8
 2801 0076 DA60     		str	r2, [r3, #12]
1321:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2802              		.loc 1 1321 0
 2803 0078 3AE0     		b	.L167
 2804              	.L171:
1322:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1323:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FOVR0 (rc_w1)*/
1324:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FOVR0; 
 2805              		.loc 1 1324 0
 2806 007a 7B68     		ldr	r3, [r7, #4]
 2807 007c 4FF01002 		mov	r2, #16
 2808 0080 DA60     		str	r2, [r3, #12]
1325:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2809              		.loc 1 1325 0
 2810 0082 35E0     		b	.L167
 2811              	.L172:
1326:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1327:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FULL1 (rc_w1)*/
1328:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FULL1;  
 2812              		.loc 1 1328 0
 2813 0084 7B68     		ldr	r3, [r7, #4]
 2814 0086 4FF00802 		mov	r2, #8
 2815 008a 1A61     		str	r2, [r3, #16]
1329:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2816              		.loc 1 1329 0
 2817 008c 30E0     		b	.L167
 2818              	.L173:
1330:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1331:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FOVR1 (rc_w1)*/
1332:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FOVR1; 
 2819              		.loc 1 1332 0
 2820 008e 7B68     		ldr	r3, [r7, #4]
 2821 0090 4FF01002 		mov	r2, #16
 2822 0094 1A61     		str	r2, [r3, #16]
1333:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2823              		.loc 1 1333 0
 2824 0096 2BE0     		b	.L167
 2825              	.L179:
1334:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1335:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_WKUI (rc_w1)*/
1336:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_WKUI;  
 2826              		.loc 1 1336 0
 2827 0098 7B68     		ldr	r3, [r7, #4]
 2828 009a 4FF00802 		mov	r2, #8
 2829 009e 5A60     		str	r2, [r3, #4]
1337:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2830              		.loc 1 1337 0
 2831 00a0 26E0     		b	.L167
 2832              	.L180:
1338:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1339:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_SLAKI (rc_w1)*/ 
1340:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_SLAKI;   
 2833              		.loc 1 1340 0
 2834 00a2 7B68     		ldr	r3, [r7, #4]
 2835 00a4 4FF01002 		mov	r2, #16
 2836 00a8 5A60     		str	r2, [r3, #4]
1341:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2837              		.loc 1 1341 0
 2838 00aa 21E0     		b	.L167
 2839              	.L174:
1342:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1343:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1344:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI;
 2840              		.loc 1 1344 0
 2841 00ac 7B68     		ldr	r3, [r7, #4]
 2842 00ae 4FF00402 		mov	r2, #4
 2843 00b2 5A60     		str	r2, [r3, #4]
1345:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1346:../StdPeripheralDriver/src/stm32f10x_can.c ****                         of the CAN Bus status*/ 
1347:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2844              		.loc 1 1347 0
 2845 00b4 1CE0     		b	.L167
 2846              	.L175:
1348:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1349:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1350:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
 2847              		.loc 1 1350 0
 2848 00b6 7B68     		ldr	r3, [r7, #4]
 2849 00b8 4FF00402 		mov	r2, #4
 2850 00bc 5A60     		str	r2, [r3, #4]
1351:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1352:../StdPeripheralDriver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1353:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2851              		.loc 1 1353 0
 2852 00be 17E0     		b	.L167
 2853              	.L176:
1354:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1355:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */ 
1356:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
 2854              		.loc 1 1356 0
 2855 00c0 7B68     		ldr	r3, [r7, #4]
 2856 00c2 4FF00402 		mov	r2, #4
 2857 00c6 5A60     		str	r2, [r3, #4]
1357:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1358:../StdPeripheralDriver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1359:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2858              		.loc 1 1359 0
 2859 00c8 12E0     		b	.L167
 2860              	.L177:
1360:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1361:../StdPeripheralDriver/src/stm32f10x_can.c ****               /*  Clear LEC bits */
1362:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
 2861              		.loc 1 1362 0
 2862 00ca 7B68     		ldr	r3, [r7, #4]
 2863 00cc 4FF00002 		mov	r2, #0
 2864 00d0 9A61     		str	r2, [r3, #24]
1363:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1364:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
 2865              		.loc 1 1364 0
 2866 00d2 7B68     		ldr	r3, [r7, #4]
 2867 00d4 4FF00402 		mov	r2, #4
 2868 00d8 5A60     		str	r2, [r3, #4]
1365:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2869              		.loc 1 1365 0
 2870 00da 09E0     		b	.L167
 2871              	.L178:
1366:../StdPeripheralDriver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1367:../StdPeripheralDriver/src/stm32f10x_can.c ****               /*Clear LEC bits */
1368:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
 2872              		.loc 1 1368 0
 2873 00dc 7B68     		ldr	r3, [r7, #4]
 2874 00de 4FF00002 		mov	r2, #0
 2875 00e2 9A61     		str	r2, [r3, #24]
1369:../StdPeripheralDriver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1370:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
 2876              		.loc 1 1370 0
 2877 00e4 7B68     		ldr	r3, [r7, #4]
 2878 00e6 4FF00402 		mov	r2, #4
 2879 00ea 5A60     		str	r2, [r3, #4]
1371:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      /* Note : BOFF, EPVF and EWGF Flags are cleared by hardware depending 
1372:../StdPeripheralDriver/src/stm32f10x_can.c ****                   of the CAN Bus status*/
1373:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2880              		.loc 1 1373 0
 2881 00ec 00E0     		b	.L167
 2882              	.L168:
1374:../StdPeripheralDriver/src/stm32f10x_can.c ****       default :
1375:../StdPeripheralDriver/src/stm32f10x_can.c **** 	      break;
 2883              		.loc 1 1375 0
 2884 00ee 00BF     		nop
 2885              	.L167:
1376:../StdPeripheralDriver/src/stm32f10x_can.c ****    }
1377:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2886              		.loc 1 1377 0
 2887 00f0 07F10C07 		add	r7, r7, #12
 2888 00f4 BD46     		mov	sp, r7
 2889 00f6 80BC     		pop	{r7}
 2890 00f8 7047     		bx	lr
 2891              		.cfi_endproc
 2892              	.LFE52:
 2894 00fa 00BF     		.section	.text.CheckITStatus,"ax",%progbits
 2895              		.align	2
 2896              		.thumb
 2897              		.thumb_func
 2899              	CheckITStatus:
 2900              	.LFB53:
1378:../StdPeripheralDriver/src/stm32f10x_can.c **** 
1379:../StdPeripheralDriver/src/stm32f10x_can.c **** /**
1380:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @brief  Checks whether the CAN interrupt has occurred or not.
1381:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  CAN_Reg: specifies the CAN interrupt register to check.
1382:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @param  It_Bit:  specifies the interrupt source bit to check.
1383:../StdPeripheralDriver/src/stm32f10x_can.c ****   * @retval The new state of the CAN Interrupt (SET or RESET).
1384:../StdPeripheralDriver/src/stm32f10x_can.c ****   */
1385:../StdPeripheralDriver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit)
1386:../StdPeripheralDriver/src/stm32f10x_can.c **** {
 2901              		.loc 1 1386 0
 2902              		.cfi_startproc
 2903              		@ args = 0, pretend = 0, frame = 16
 2904              		@ frame_needed = 1, uses_anonymous_args = 0
 2905              		@ link register save eliminated.
 2906 0000 80B4     		push	{r7}
 2907              	.LCFI72:
 2908              		.cfi_def_cfa_offset 4
 2909              		.cfi_offset 7, -4
 2910 0002 85B0     		sub	sp, sp, #20
 2911              	.LCFI73:
 2912              		.cfi_def_cfa_offset 24
 2913 0004 00AF     		add	r7, sp, #0
 2914              	.LCFI74:
 2915              		.cfi_def_cfa_register 7
 2916 0006 7860     		str	r0, [r7, #4]
 2917 0008 3960     		str	r1, [r7, #0]
1387:../StdPeripheralDriver/src/stm32f10x_can.c ****   ITStatus pendingbitstatus = RESET;
 2918              		.loc 1 1387 0
 2919 000a 4FF00003 		mov	r3, #0
 2920 000e FB73     		strb	r3, [r7, #15]
1388:../StdPeripheralDriver/src/stm32f10x_can.c ****   
1389:../StdPeripheralDriver/src/stm32f10x_can.c ****   if ((CAN_Reg & It_Bit) != (uint32_t)RESET)
 2921              		.loc 1 1389 0
 2922 0010 7A68     		ldr	r2, [r7, #4]
 2923 0012 3B68     		ldr	r3, [r7, #0]
 2924 0014 1340     		ands	r3, r3, r2
 2925 0016 002B     		cmp	r3, #0
 2926 0018 03D0     		beq	.L186
1390:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1391:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* CAN_IT is set */
1392:../StdPeripheralDriver/src/stm32f10x_can.c ****     pendingbitstatus = SET;
 2927              		.loc 1 1392 0
 2928 001a 4FF00103 		mov	r3, #1
 2929 001e FB73     		strb	r3, [r7, #15]
 2930 0020 02E0     		b	.L187
 2931              	.L186:
1393:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1394:../StdPeripheralDriver/src/stm32f10x_can.c ****   else
1395:../StdPeripheralDriver/src/stm32f10x_can.c ****   {
1396:../StdPeripheralDriver/src/stm32f10x_can.c ****     /* CAN_IT is reset */
1397:../StdPeripheralDriver/src/stm32f10x_can.c ****     pendingbitstatus = RESET;
 2932              		.loc 1 1397 0
 2933 0022 4FF00003 		mov	r3, #0
 2934 0026 FB73     		strb	r3, [r7, #15]
 2935              	.L187:
1398:../StdPeripheralDriver/src/stm32f10x_can.c ****   }
1399:../StdPeripheralDriver/src/stm32f10x_can.c ****   return pendingbitstatus;
 2936              		.loc 1 1399 0
 2937 0028 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1400:../StdPeripheralDriver/src/stm32f10x_can.c **** }
 2938              		.loc 1 1400 0
 2939 002a 1846     		mov	r0, r3
 2940 002c 07F11407 		add	r7, r7, #20
 2941 0030 BD46     		mov	sp, r7
 2942 0032 80BC     		pop	{r7}
 2943 0034 7047     		bx	lr
 2944              		.cfi_endproc
 2945              	.LFE53:
 2947 0036 00BF     		.text
 2948              	.Letext0:
 2949              		.file 2 "/home/frolls/ARM/gcc-arm-none-eabi-4_7-2012q4/bin/../lib/gcc/arm-none-eabi/4.7.3/../../..
 2950              		.file 3 "/home/frolls/ARM/stm32vld_template/CMSIS/stm32f10x.h"
 2951              		.file 4 "/home/frolls/ARM/stm32vld_template/StdPeripheralDriver/inc/stm32f10x_can.h"
 2952              		.file 5 "/home/frolls/ARM/stm32vld_template/CMSIS/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_can.c
     /tmp/ccuVPEYY.s:19     .text.CAN_DeInit:00000000 $t
     /tmp/ccuVPEYY.s:24     .text.CAN_DeInit:00000000 CAN_DeInit
     /tmp/ccuVPEYY.s:76     .text.CAN_Init:00000000 $t
     /tmp/ccuVPEYY.s:81     .text.CAN_Init:00000000 CAN_Init
     /tmp/ccuVPEYY.s:356    .text.CAN_FilterInit:00000000 $t
     /tmp/ccuVPEYY.s:361    .text.CAN_FilterInit:00000000 CAN_FilterInit
     /tmp/ccuVPEYY.s:599    .text.CAN_StructInit:00000000 $t
     /tmp/ccuVPEYY.s:604    .text.CAN_StructInit:00000000 CAN_StructInit
     /tmp/ccuVPEYY.s:675    .text.CAN_SlaveStartBank:00000000 $t
     /tmp/ccuVPEYY.s:680    .text.CAN_SlaveStartBank:00000000 CAN_SlaveStartBank
     /tmp/ccuVPEYY.s:743    .text.CAN_DBGFreeze:00000000 $t
     /tmp/ccuVPEYY.s:748    .text.CAN_DBGFreeze:00000000 CAN_DBGFreeze
     /tmp/ccuVPEYY.s:796    .text.CAN_TTComModeCmd:00000000 $t
     /tmp/ccuVPEYY.s:801    .text.CAN_TTComModeCmd:00000000 CAN_TTComModeCmd
     /tmp/ccuVPEYY.s:885    .text.CAN_Transmit:00000000 $t
     /tmp/ccuVPEYY.s:890    .text.CAN_Transmit:00000000 CAN_Transmit
     /tmp/ccuVPEYY.s:1145   .text.CAN_TransmitStatus:00000000 $t
     /tmp/ccuVPEYY.s:1150   .text.CAN_TransmitStatus:00000000 CAN_TransmitStatus
     /tmp/ccuVPEYY.s:1315   .text.CAN_CancelTransmit:00000000 $t
     /tmp/ccuVPEYY.s:1320   .text.CAN_CancelTransmit:00000000 CAN_CancelTransmit
     /tmp/ccuVPEYY.s:1388   .text.CAN_Receive:00000000 $t
     /tmp/ccuVPEYY.s:1393   .text.CAN_Receive:00000000 CAN_Receive
     /tmp/ccuVPEYY.s:1603   .text.CAN_FIFORelease:00000000 $t
     /tmp/ccuVPEYY.s:1608   .text.CAN_FIFORelease:00000000 CAN_FIFORelease
     /tmp/ccuVPEYY.s:1656   .text.CAN_MessagePending:00000000 $t
     /tmp/ccuVPEYY.s:1661   .text.CAN_MessagePending:00000000 CAN_MessagePending
     /tmp/ccuVPEYY.s:1724   .text.CAN_OperatingModeRequest:00000000 $t
     /tmp/ccuVPEYY.s:1729   .text.CAN_OperatingModeRequest:00000000 CAN_OperatingModeRequest
     /tmp/ccuVPEYY.s:1908   .text.CAN_Sleep:00000000 $t
     /tmp/ccuVPEYY.s:1913   .text.CAN_Sleep:00000000 CAN_Sleep
     /tmp/ccuVPEYY.s:1963   .text.CAN_WakeUp:00000000 $t
     /tmp/ccuVPEYY.s:1968   .text.CAN_WakeUp:00000000 CAN_WakeUp
     /tmp/ccuVPEYY.s:2039   .text.CAN_GetLastErrorCode:00000000 $t
     /tmp/ccuVPEYY.s:2044   .text.CAN_GetLastErrorCode:00000000 CAN_GetLastErrorCode
     /tmp/ccuVPEYY.s:2083   .text.CAN_GetReceiveErrorCounter:00000000 $t
     /tmp/ccuVPEYY.s:2088   .text.CAN_GetReceiveErrorCounter:00000000 CAN_GetReceiveErrorCounter
     /tmp/ccuVPEYY.s:2126   .text.CAN_GetLSBTransmitErrorCounter:00000000 $t
     /tmp/ccuVPEYY.s:2131   .text.CAN_GetLSBTransmitErrorCounter:00000000 CAN_GetLSBTransmitErrorCounter
     /tmp/ccuVPEYY.s:2170   .text.CAN_ITConfig:00000000 $t
     /tmp/ccuVPEYY.s:2175   .text.CAN_ITConfig:00000000 CAN_ITConfig
     /tmp/ccuVPEYY.s:2227   .text.CAN_GetFlagStatus:00000000 $t
     /tmp/ccuVPEYY.s:2232   .text.CAN_GetFlagStatus:00000000 CAN_GetFlagStatus
     /tmp/ccuVPEYY.s:2380   .text.CAN_ClearFlag:00000000 $t
     /tmp/ccuVPEYY.s:2385   .text.CAN_ClearFlag:00000000 CAN_ClearFlag
     /tmp/ccuVPEYY.s:2471   .text.CAN_GetITStatus:00000000 $t
     /tmp/ccuVPEYY.s:2476   .text.CAN_GetITStatus:00000000 CAN_GetITStatus
     /tmp/ccuVPEYY.s:2899   .text.CheckITStatus:00000000 CheckITStatus
     /tmp/ccuVPEYY.s:2726   .text.CAN_ClearITPendingBit:00000000 $t
     /tmp/ccuVPEYY.s:2731   .text.CAN_ClearITPendingBit:00000000 CAN_ClearITPendingBit
     /tmp/ccuVPEYY.s:2895   .text.CheckITStatus:00000000 $t
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.1.3f2d2167d278fc96c4a7439609634148
                           .group:00000000 wm4.stm32f10x.h.51.643d5396a325ce00fe75ea490db6ba44
                           .group:00000000 wm4.core_cm3.h.25.d35e9a9b04ec4aaebae9bf79fff061f9
                           .group:00000000 wm4.stdint.h.10.90b695f550ca6cc3fb08fa83baf01e05
                           .group:00000000 wm4.core_cm3.h.113.b286929a54d33b4c8909a7132437b244
                           .group:00000000 wm4.stm32f10x.h.524.bbf52ca28bdf7ef267115429e0387679
                           .group:00000000 wm4.stm32f10x_conf.h.9.3838e46d9de2be24c7ed73296c5ae8b5
                           .group:00000000 wm4.stm32f10x.h.8267.abe69e40cf43ea9673cb5d472d4b6964
                           .group:00000000 wm4.stm32f10x_can.h.46.ed6405f0f90c291fd588e60dd81a6239
                           .group:00000000 wm4.stm32f10x_rcc.h.25.ce2a81c1048696f722ee0c144eb62674

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
